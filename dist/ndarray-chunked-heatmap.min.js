!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.cheatmap=t():e.cheatmap=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(){function e(e){var n=t.data();t.domain((0,i.extent)(n.data));for(var a=(0,s.chunk)(n,r),o=new Array(a.length),u=0;u<a.length;++u){o[u]=new Array(a[u].length);for(var c=0;c<a[u].length;c++)t.data(a[u][c]),o[u][c]=t()}return o}var t=(0,u.heatmap)(),r=[1024,1024];return e.chunkShape=function(t){return arguments.length?(r=t,e):r},e.data=function(r){return arguments.length?(t.data(r),e):t.data()},e.colorSteps=function(r){return arguments.length?(t.colorSteps(r),e):t.colorSteps()},e.colorRange=function(r){return arguments.length?(t.colorRange(r),e):t.colorRange()},e}Object.defineProperty(t,"__esModule",{value:!0}),t.cheatmap=void 0;var o=r(1),i=(n(o),r(4)),s=r(5),u=r(6);t.cheatmap=a},function(e,t,r){function n(e,t){return e[0]-t[0]}function a(){var e,t=this.stride,r=new Array(t.length);for(e=0;e<r.length;++e)r[e]=[Math.abs(t[e]),e];r.sort(n);var a=new Array(r.length);for(e=0;e<a.length;++e)a[e]=r[e][1];return a}function o(e,t){var r=["View",t,"d",e].join("");0>t&&(r="View_Nil"+e);var n="generic"===e;if(-1===t){var o="function "+r+"(a){this.data=a;};	var proto="+r+".prototype;	proto.dtype='"+e+"';	proto.index=function(){return -1};	proto.size=0;	proto.dimension=-1;	proto.shape=proto.stride=proto.order=[];	proto.lo=proto.hi=proto.transpose=proto.step=	function(){return new "+r+"(this.data);};	proto.get=proto.set=function(){};	proto.pick=function(){return null};	return function construct_"+r+"(a){return new "+r+"(a);}",i=new Function(o);return i()}if(0===t){var o="function "+r+"(a,d) {	this.data = a;	this.offset = d	};	var proto="+r+".prototype;	proto.dtype='"+e+"';	proto.index=function(){return this.offset};	proto.dimension=0;	proto.size=1;	proto.shape=	proto.stride=	proto.order=[];	proto.lo=	proto.hi=	proto.transpose=	proto.step=function "+r+"_copy() {	return new "+r+"(this.data,this.offset)	};	proto.pick=function "+r+"_pick(){	return TrivialArray(this.data);	};	proto.valueOf=proto.get=function "+r+"_get(){	return "+(n?"this.data.get(this.offset)":"this.data[this.offset]")+"};	proto.set=function "+r+"_set(v){	return "+(n?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"	};	return function construct_"+r+"(a,b,c,d){return new "+r+"(a,d)}",i=new Function("TrivialArray",o);return i(f[e][0])}var o=["'use strict'"],s=u(t),c=s.map(function(e){return"i"+e}),l="this.offset+"+s.map(function(e){return"this.stride["+e+"]*i"+e}).join("+"),h=s.map(function(e){return"b"+e}).join(","),p=s.map(function(e){return"c"+e}).join(",");o.push("function "+r+"(a,"+h+","+p+",d){this.data=a","this.shape=["+h+"]","this.stride=["+p+"]","this.offset=d|0}","var proto="+r+".prototype","proto.dtype='"+e+"'","proto.dimension="+t),o.push("Object.defineProperty(proto,'size',{get:function "+r+"_size(){	return "+s.map(function(e){return"this.shape["+e+"]"}).join("*"),"}})"),1===t?o.push("proto.order=[0]"):(o.push("Object.defineProperty(proto,'order',{get:"),4>t?(o.push("function "+r+"_order(){"),2===t?o.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===t&&o.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);	if(s0>s1){	if(s1>s2){	return [2,1,0];	}else if(s0>s2){	return [1,2,0];	}else{	return [1,0,2];	}	}else if(s0>s2){	return [2,0,1];	}else if(s2>s1){	return [0,1,2];	}else{	return [0,2,1];	}}})")):o.push("ORDER})")),o.push("proto.set=function "+r+"_set("+c.join(",")+",v){"),n?o.push("return this.data.set("+l+",v)}"):o.push("return this.data["+l+"]=v}"),o.push("proto.get=function "+r+"_get("+c.join(",")+"){"),n?o.push("return this.data.get("+l+")}"):o.push("return this.data["+l+"]}"),o.push("proto.index=function "+r+"_index(",c.join(),"){return "+l+"}"),o.push("proto.hi=function "+r+"_hi("+c.join(",")+"){return new "+r+"(this.data,"+s.map(function(e){return["(typeof i",e,"!=='number'||i",e,"<0)?this.shape[",e,"]:i",e,"|0"].join("")}).join(",")+","+s.map(function(e){return"this.stride["+e+"]"}).join(",")+",this.offset)}");var d=s.map(function(e){return"a"+e+"=this.shape["+e+"]"}),g=s.map(function(e){return"c"+e+"=this.stride["+e+"]"});o.push("proto.lo=function "+r+"_lo("+c.join(",")+"){var b=this.offset,d=0,"+d.join(",")+","+g.join(","));for(var m=0;t>m;++m)o.push("if(typeof i"+m+"==='number'&&i"+m+">=0){	d=i"+m+"|0;	b+=c"+m+"*d;	a"+m+"-=d}");o.push("return new "+r+"(this.data,"+s.map(function(e){return"a"+e}).join(",")+","+s.map(function(e){return"c"+e}).join(",")+",b)}"),o.push("proto.step=function "+r+"_step("+c.join(",")+"){var "+s.map(function(e){return"a"+e+"=this.shape["+e+"]"}).join(",")+","+s.map(function(e){return"b"+e+"=this.stride["+e+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var m=0;t>m;++m)o.push("if(typeof i"+m+"==='number'){	d=i"+m+"|0;	if(d<0){	c+=b"+m+"*(a"+m+"-1);	a"+m+"=ceil(-a"+m+"/d)	}else{	a"+m+"=ceil(a"+m+"/d)	}	b"+m+"*=d	}");o.push("return new "+r+"(this.data,"+s.map(function(e){return"a"+e}).join(",")+","+s.map(function(e){return"b"+e}).join(",")+",c)}");for(var y=new Array(t),v=new Array(t),m=0;t>m;++m)y[m]="a[i"+m+"]",v[m]="b[i"+m+"]";o.push("proto.transpose=function "+r+"_transpose("+c+"){"+c.map(function(e,t){return e+"=("+e+"===undefined?"+t+":"+e+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+r+"(this.data,"+y.join(",")+","+v.join(",")+",this.offset)}"),o.push("proto.pick=function "+r+"_pick("+c+"){var a=[],b=[],c=this.offset");for(var m=0;t>m;++m)o.push("if(typeof i"+m+"==='number'&&i"+m+">=0){c=(c+this.stride["+m+"]*i"+m+")|0}else{a.push(this.shape["+m+"]);b.push(this.stride["+m+"])}");o.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),o.push("return function construct_"+r+"(data,shape,stride,offset){return new "+r+"(data,"+s.map(function(e){return"shape["+e+"]"}).join(",")+","+s.map(function(e){return"stride["+e+"]"}).join(",")+",offset)}");var i=new Function("CTOR_LIST","ORDER",o.join("\n"));return i(f[e],a)}function i(e){if(c(e))return"buffer";if(l)switch(Object.prototype.toString.call(e)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(e)?"array":"generic"}function s(e,t,r,n){if(void 0===e){var a=f.array[0];return a([])}"number"==typeof e&&(e=[e]),void 0===t&&(t=[e.length]);var s=t.length;if(void 0===r){r=new Array(s);for(var u=s-1,c=1;u>=0;--u)r[u]=c,c*=t[u]}if(void 0===n){n=0;for(var u=0;s>u;++u)r[u]<0&&(n-=(t[u]-1)*r[u])}for(var l=i(e),h=f[l];h.length<=s+1;)h.push(o(l,h.length-1));var a=h[s+1];return a(e,t,r,n)}var u=r(2),c=r(3),l="undefined"!=typeof Float64Array,f={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};e.exports=s},function(e,t){"use strict";function r(e){for(var t=new Array(e),r=0;e>r;++r)t[r]=r;return t}e.exports=r},function(e,t){e.exports=function(e){return!(null==e||!(e._isBuffer||e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)))}},function(e,t,r){!function(e,r){r(t)}(this,function(e){"use strict";function t(e,t){return t>e?-1:e>t?1:e>=t?0:NaN}function r(e){return 1===e.length&&(e=n(e)),{left:function(t,r,n,a){for(arguments.length<3&&(n=0),arguments.length<4&&(a=t.length);a>n;){var o=n+a>>>1;e(t[o],r)<0?n=o+1:a=o}return n},right:function(t,r,n,a){for(arguments.length<3&&(n=0),arguments.length<4&&(a=t.length);a>n;){var o=n+a>>>1;e(t[o],r)>0?a=o:n=o+1}return n}}}function n(e){return function(r,n){return t(e(r),n)}}function a(e,t){return e>t?-1:t>e?1:t>=e?0:NaN}function o(e){return null===e?NaN:+e}function i(e,t){var r,n,a=e.length,i=0,s=0,u=-1,c=0;if(1===arguments.length)for(;++u<a;)isNaN(r=o(e[u]))||(n=r-i,i+=n/++c,s+=n*(r-i));else for(;++u<a;)isNaN(r=o(t(e[u],u,e)))||(n=r-i,i+=n/++c,s+=n*(r-i));return c>1?s/(c-1):void 0}function s(){var e=i.apply(this,arguments);return e?Math.sqrt(e):e}function u(e,t){var r,n,a,o=-1,i=e.length;if(1===arguments.length){for(;++o<i;)if(null!=(n=e[o])&&n>=n){r=a=n;break}for(;++o<i;)null!=(n=e[o])&&(r>n&&(r=n),n>a&&(a=n))}else{for(;++o<i;)if(null!=(n=t(e[o],o,e))&&n>=n){r=a=n;break}for(;++o<i;)null!=(n=t(e[o],o,e))&&(r>n&&(r=n),n>a&&(a=n))}return[r,a]}function c(e){return function(){return e}}function l(e){return e}function f(e,t,r){(a=arguments.length)<3&&(r=1,2>a&&(t=e,e=0));for(var n=-1,a=0|Math.max(0,Math.ceil((t-e)/r)),o=new Array(a);++n<a;)o[n]=e+n*r;return o}function h(e,t,r){var n=p(e,t,r);return f(Math.ceil(e/n)*n,Math.floor(t/n)*n+n/2,n)}function p(e,t,r){var n=Math.abs(t-e)/Math.max(0,r),a=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),o=n/a;return o>=F?a*=10:o>=R?a*=5:o>=P&&(a*=2),e>t?-a:a}function d(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1}function g(e){return+e}function m(){function e(e){var a,o,i=e.length,s=new Array(i);for(a=0;i>a;++a)s[a]=+t(e[a],a,e);var u=r(s),c=+u[0],l=+u[1],f=n(s,c,l);Array.isArray(f)||(f=h(c,l,+f));var p=f.length;for(a=0;p>a;++a)f[a]=+f[a];for(;f[0]<=c;)f.shift(),--p;for(;f[p-1]>=l;)f.pop(),--p;var d,g=new Array(p+1);for(a=0;p>=a;++a)d=g[a]=[],d.x0=a>0?f[a-1]:c,d.x1=p>a?f[a]:l;for(a=0;i>a;++a)o=s[a],o>=c&&l>=o&&g[B(f,o,0,p)].push(e[a]);return g}var t=l,r=u,n=d;return e.value=function(r){return arguments.length?(t="function"==typeof r?r:c(+r),e):t},e.domain=function(t){return arguments.length?(r="function"==typeof t?t:c([+t[0],+t[1]]),e):r},e.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:c(Array.isArray(t)?Array.prototype.map.call(t,g):+t),e):n},e}function y(e,t,r){if(arguments.length<3&&(r=o),n=e.length){if((t=+t)<=0||2>n)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),u=+r(e[i+1],i+1,e);return s+(u-s)*(a-i)}}function v(e,r,n){return e.sort(t),Math.ceil((n-r)/(2*(y(e,.75)-y(e,.25))*Math.pow(e.length,-1/3)))}function b(e,t,r){return Math.ceil((r-t)/(3.5*s(e)*Math.pow(e.length,-1/3)))}function w(e,t){var r,n,a=-1,o=e.length;if(1===arguments.length){for(;++a<o;)if(null!=(n=e[a])&&n>=n){r=n;break}for(;++a<o;)null!=(n=e[a])&&n>r&&(r=n)}else{for(;++a<o;)if(null!=(n=t(e[a],a,e))&&n>=n){r=n;break}for(;++a<o;)null!=(n=t(e[a],a,e))&&n>r&&(r=n)}return r}function k(e,t){var r,n=0,a=e.length,i=-1,s=a;if(1===arguments.length)for(;++i<a;)isNaN(r=o(e[i]))?--s:n+=r;else for(;++i<a;)isNaN(r=o(t(e[i],i,e)))?--s:n+=r;return s?n/s:void 0}function x(e,r){var n,a=[],i=e.length,s=-1;if(1===arguments.length)for(;++s<i;)isNaN(n=o(e[s]))||a.push(n);else for(;++s<i;)isNaN(n=o(r(e[s],s,e)))||a.push(n);return y(a.sort(t),.5)}function S(e){for(var t,r,n,a=e.length,o=-1,i=0;++o<a;)i+=e[o].length;for(r=new Array(i);--a>=0;)for(n=e[a],t=n.length;--t>=0;)r[--i]=n[t];return r}function j(e,t){var r,n,a=-1,o=e.length;if(1===arguments.length){for(;++a<o;)if(null!=(n=e[a])&&n>=n){r=n;break}for(;++a<o;)null!=(n=e[a])&&r>n&&(r=n)}else{for(;++a<o;)if(null!=(n=t(e[a],a,e))&&n>=n){r=n;break}for(;++a<o;)null!=(n=t(e[a],a,e))&&r>n&&(r=n)}return r}function A(e){for(var t,r=0,n=e.length-1,a=e[0],o=new Array(0>n?0:n);n>r;)o[r]=[t=a,a=e[++r]];return o}function E(e,t){for(var r=t.length,n=new Array(r);r--;)n[r]=e[t[r]];return n}function _(e,r){if(n=e.length){var n,a,o=0,i=0,s=e[i];for(r||(r=t);++o<n;)(r(a=e[o],s)<0||0!==r(s,s))&&(s=a,i=o);return 0===r(s,s)?i:void 0}}function I(e,t,r){(o=arguments.length)<3&&(r=e.length,2>o&&(t=0));for(var n,a,o=r-t;o;)a=Math.random()*o--|0,n=e[o+t],e[o+t]=e[a+t],e[a+t]=n;return e}function N(e,t){var r,n=0,a=e.length,o=-1;if(1===arguments.length)for(;++o<a;)(r=+e[o])&&(n+=r);else for(;++o<a;)(r=+t(e[o],o,e))&&(n+=r);return n}function C(e){if(!(a=e.length))return[];for(var t=-1,r=j(e,M),n=new Array(r);++t<r;)for(var a,o=-1,i=n[t]=new Array(a);++o<a;)i[o]=e[o][t];return n}function M(e){return e.length}function L(){return C(arguments)}var O=r(t),B=O.right,T=O.left,F=Math.sqrt(50),R=Math.sqrt(10),P=Math.sqrt(2),U="0.7.0";e.version=U,e.bisect=B,e.bisectRight=B,e.bisectLeft=T,e.ascending=t,e.bisector=r,e.descending=a,e.deviation=s,e.extent=u,e.histogram=m,e.thresholdFreedmanDiaconis=v,e.thresholdScott=b,e.thresholdSturges=d,e.max=w,e.mean=k,e.median=x,e.merge=S,e.min=j,e.pairs=A,e.permute=E,e.quantile=y,e.range=f,e.scan=_,e.shuffle=I,e.sum=N,e.ticks=h,e.tickStep=p,e.transpose=C,e.variance=i,e.zip=L})},function(e,t,r){!function(t,r){e.exports=r()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(e=e.shape?e:(0,i["default"])(e),e.shape.length!==t.length)throw new Error("Shape mismatch");var r=t.length;if(1===r){for(var n=e.shape[0]%t[0],a=Math.floor(e.shape[0]/t[0])+!!n,o=new Array(a),s=0;a>s;++s)o[s]=e.hi(Math.min(s*t[0]+t[0],e.shape[0])).lo(s*t[0]);return o}if(2===r){for(var u=e.shape[0]%t[0],c=e.shape[1]%t[1],l=Math.floor(e.shape[0]/t[0])+!!u,f=Math.floor(e.shape[1]/t[1])+!!c,o=new Array(l),s=0;l>s;++s){o[s]=new Array(f);for(var h=0;f>h;++h)o[s][h]=e.hi(Math.min(s*t[0]+t[0],e.shape[0]),Math.min(h*t[1]+t[1],e.shape[1])).lo(s*t[0],h*t[1])}return o}throw new Error("Unsupported rank")}Object.defineProperty(t,"__esModule",{value:!0}),t.chunk=void 0;var o=r(1),i=n(o);t.chunk=a},function(e,t,r){"use strict";var n=r(2),a=r(5);e.exports=function(e,t){for(var r=[],o=e,i=1;o instanceof Array;)r.push(o.length),i*=o.length,o=o[0];return 0===r.length?n():(t||(t=n(new Float64Array(i),r)),a(t,e),t)}},function(e,t,r){function n(e,t){return e[0]-t[0]}function a(){var e,t=this.stride,r=new Array(t.length);for(e=0;e<r.length;++e)r[e]=[Math.abs(t[e]),e];r.sort(n);var a=new Array(r.length);for(e=0;e<a.length;++e)a[e]=r[e][1];return a}function o(e,t){var r=["View",t,"d",e].join("");0>t&&(r="View_Nil"+e);var n="generic"===e;if(-1===t){var o="function "+r+"(a){this.data=a;};		var proto="+r+".prototype;		proto.dtype='"+e+"';		proto.index=function(){return -1};		proto.size=0;		proto.dimension=-1;		proto.shape=proto.stride=proto.order=[];		proto.lo=proto.hi=proto.transpose=proto.step=		function(){return new "+r+"(this.data);};		proto.get=proto.set=function(){};		proto.pick=function(){return null};		return function construct_"+r+"(a){return new "+r+"(a);}",i=new Function(o);return i()}if(0===t){var o="function "+r+"(a,d) {		this.data = a;		this.offset = d		};		var proto="+r+".prototype;		proto.dtype='"+e+"';		proto.index=function(){return this.offset};		proto.dimension=0;		proto.size=1;		proto.shape=		proto.stride=		proto.order=[];		proto.lo=		proto.hi=		proto.transpose=		proto.step=function "+r+"_copy() {		return new "+r+"(this.data,this.offset)		};		proto.pick=function "+r+"_pick(){		return TrivialArray(this.data);		};		proto.valueOf=proto.get=function "+r+"_get(){		return "+(n?"this.data.get(this.offset)":"this.data[this.offset]")+"};		proto.set=function "+r+"_set(v){		return "+(n?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"		};		return function construct_"+r+"(a,b,c,d){return new "+r+"(a,d)}",i=new Function("TrivialArray",o);return i(f[e][0])}var o=["'use strict'"],s=u(t),c=s.map(function(e){return"i"+e}),l="this.offset+"+s.map(function(e){return"this.stride["+e+"]*i"+e}).join("+"),h=s.map(function(e){return"b"+e}).join(","),p=s.map(function(e){return"c"+e}).join(",");o.push("function "+r+"(a,"+h+","+p+",d){this.data=a","this.shape=["+h+"]","this.stride=["+p+"]","this.offset=d|0}","var proto="+r+".prototype","proto.dtype='"+e+"'","proto.dimension="+t),o.push("Object.defineProperty(proto,'size',{get:function "+r+"_size(){		return "+s.map(function(e){return"this.shape["+e+"]"}).join("*"),"}})"),1===t?o.push("proto.order=[0]"):(o.push("Object.defineProperty(proto,'order',{get:"),4>t?(o.push("function "+r+"_order(){"),2===t?o.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===t&&o.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);		if(s0>s1){		if(s1>s2){		return [2,1,0];		}else if(s0>s2){		return [1,2,0];		}else{		return [1,0,2];		}		}else if(s0>s2){		return [2,0,1];		}else if(s2>s1){		return [0,1,2];		}else{		return [0,2,1];		}}})")):o.push("ORDER})")),o.push("proto.set=function "+r+"_set("+c.join(",")+",v){"),n?o.push("return this.data.set("+l+",v)}"):o.push("return this.data["+l+"]=v}"),o.push("proto.get=function "+r+"_get("+c.join(",")+"){"),n?o.push("return this.data.get("+l+")}"):o.push("return this.data["+l+"]}"),o.push("proto.index=function "+r+"_index(",c.join(),"){return "+l+"}"),o.push("proto.hi=function "+r+"_hi("+c.join(",")+"){return new "+r+"(this.data,"+s.map(function(e){return["(typeof i",e,"!=='number'||i",e,"<0)?this.shape[",e,"]:i",e,"|0"].join("")}).join(",")+","+s.map(function(e){return"this.stride["+e+"]"}).join(",")+",this.offset)}");var d=s.map(function(e){return"a"+e+"=this.shape["+e+"]"}),g=s.map(function(e){return"c"+e+"=this.stride["+e+"]"});o.push("proto.lo=function "+r+"_lo("+c.join(",")+"){var b=this.offset,d=0,"+d.join(",")+","+g.join(","));for(var m=0;t>m;++m)o.push("if(typeof i"+m+"==='number'&&i"+m+">=0){		d=i"+m+"|0;		b+=c"+m+"*d;		a"+m+"-=d}");o.push("return new "+r+"(this.data,"+s.map(function(e){return"a"+e}).join(",")+","+s.map(function(e){return"c"+e}).join(",")+",b)}"),o.push("proto.step=function "+r+"_step("+c.join(",")+"){var "+s.map(function(e){return"a"+e+"=this.shape["+e+"]"}).join(",")+","+s.map(function(e){return"b"+e+"=this.stride["+e+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var m=0;t>m;++m)o.push("if(typeof i"+m+"==='number'){		d=i"+m+"|0;		if(d<0){		c+=b"+m+"*(a"+m+"-1);		a"+m+"=ceil(-a"+m+"/d)		}else{		a"+m+"=ceil(a"+m+"/d)		}		b"+m+"*=d		}");o.push("return new "+r+"(this.data,"+s.map(function(e){return"a"+e}).join(",")+","+s.map(function(e){return"b"+e}).join(",")+",c)}");for(var y=new Array(t),v=new Array(t),m=0;t>m;++m)y[m]="a[i"+m+"]",v[m]="b[i"+m+"]";o.push("proto.transpose=function "+r+"_transpose("+c+"){"+c.map(function(e,t){return e+"=("+e+"===undefined?"+t+":"+e+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+r+"(this.data,"+y.join(",")+","+v.join(",")+",this.offset)}"),o.push("proto.pick=function "+r+"_pick("+c+"){var a=[],b=[],c=this.offset");for(var m=0;t>m;++m)o.push("if(typeof i"+m+"==='number'&&i"+m+">=0){c=(c+this.stride["+m+"]*i"+m+")|0}else{a.push(this.shape["+m+"]);b.push(this.stride["+m+"])}");o.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),o.push("return function construct_"+r+"(data,shape,stride,offset){return new "+r+"(data,"+s.map(function(e){return"shape["+e+"]"}).join(",")+","+s.map(function(e){return"stride["+e+"]"}).join(",")+",offset)}");var i=new Function("CTOR_LIST","ORDER",o.join("\n"));return i(f[e],a)}function i(e){if(c(e))return"buffer";if(l)switch(Object.prototype.toString.call(e)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(e)?"array":"generic"}function s(e,t,r,n){if(void 0===e){var a=f.array[0];return a([])}"number"==typeof e&&(e=[e]),void 0===t&&(t=[e.length]);var s=t.length;if(void 0===r){r=new Array(s);for(var u=s-1,c=1;u>=0;--u)r[u]=c,c*=t[u]}if(void 0===n){n=0;for(var u=0;s>u;++u)r[u]<0&&(n-=(t[u]-1)*r[u])}for(var l=i(e),h=f[l];h.length<=s+1;)h.push(o(l,h.length-1));var a=h[s+1];return a(e,t,r,n)}var u=r(3),c=r(4),l="undefined"!=typeof Float64Array,f={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};e.exports=s},function(e,t){"use strict";function r(e){for(var t=new Array(e),r=0;e>r;++r)t[r]=r;return t}e.exports=r},function(e,t){e.exports=function(e){return!(null==e||!(e._isBuffer||e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)))}},function(e,t,r){e.exports=r(6)({args:["array","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{\nvar _inline_1_v=_inline_1_arg1_,_inline_1_i\nfor(_inline_1_i=0;_inline_1_i<_inline_1_arg2_.length-1;++_inline_1_i) {\n_inline_1_v=_inline_1_v[_inline_1_arg2_[_inline_1_i]]\n}\n_inline_1_arg0_=_inline_1_v[_inline_1_arg2_[_inline_1_arg2_.length-1]]\n}",args:[{name:"_inline_1_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:4}],thisVars:[],localVars:["_inline_1_i","_inline_1_v"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},funcName:"convert",blockSize:64})},function(e,t,r){"use strict";function n(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function a(e){var t=new n;t.pre=e.pre,t.body=e.body,t.post=e.post;var r=e.args.slice(0);t.argTypes=r;for(var a=0;a<r.length;++a){var i=r[a];if("array"===i||"object"==typeof i&&i.blockIndices){if(t.argTypes[a]="array",t.arrayArgs.push(a),t.arrayBlockIndices.push(i.blockIndices?i.blockIndices:0),t.shimArgs.push("array"+a),a<t.pre.args.length&&t.pre.args[a].count>0)throw new Error("cwise: pre() block may not reference array args");if(a<t.post.args.length&&t.post.args[a].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===i)t.scalarArgs.push(a),t.shimArgs.push("scalar"+a);else if("index"===i){if(t.indexArgs.push(a),a<t.pre.args.length&&t.pre.args[a].count>0)throw new Error("cwise: pre() block may not reference array index");if(a<t.body.args.length&&t.body.args[a].lvalue)throw new Error("cwise: body() block may not write to array index");if(a<t.post.args.length&&t.post.args[a].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===i){if(t.shapeArgs.push(a),a<t.pre.args.length&&t.pre.args[a].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(a<t.body.args.length&&t.body.args[a].lvalue)throw new Error("cwise: body() block may not write to array shape");if(a<t.post.args.length&&t.post.args[a].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof i||!i.offset)throw new Error("cwise: Unknown argument type "+r[a]);t.argTypes[a]="offset",t.offsetArgs.push({array:i.array,offset:i.offset}),t.offsetArgIndex.push(a)}}if(t.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(t.pre.args.length>r.length)throw new Error("cwise: Too many arguments in pre() block");if(t.body.args.length>r.length)throw new Error("cwise: Too many arguments in body() block");if(t.post.args.length>r.length)throw new Error("cwise: Too many arguments in post() block");return t.debug=!!e.printCode||!!e.debug,t.funcName=e.funcName||"cwise",t.blockSize=e.blockSize||64,o(t)}var o=r(7);e.exports=a},function(e,t,r){"use strict";function n(e){var t=["'use strict'","var CACHED={}"],r=[],n=e.funcName+"_cwise_thunk";t.push(["return function ",n,"(",e.shimArgs.join(","),"){"].join(""));for(var o=[],i=[],s=[["array",e.arrayArgs[0],".shape.slice(",Math.max(0,e.arrayBlockIndices[0]),e.arrayBlockIndices[0]<0?","+e.arrayBlockIndices[0]+")":")"].join("")],u=[],c=[],l=0;l<e.arrayArgs.length;++l){var f=e.arrayArgs[l];r.push(["t",f,"=array",f,".dtype,","r",f,"=array",f,".order"].join("")),o.push("t"+f),o.push("r"+f),i.push("t"+f),i.push("r"+f+".join()"),s.push("array"+f+".data"),s.push("array"+f+".stride"),s.push("array"+f+".offset|0"),l>0&&(u.push("array"+e.arrayArgs[0]+".shape.length===array"+f+".shape.length+"+(Math.abs(e.arrayBlockIndices[0])-Math.abs(e.arrayBlockIndices[l]))),c.push("array"+e.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[0])+"]===array"+f+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[l])+"]"))}e.arrayArgs.length>1&&(t.push("if (!("+u.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),t.push("for(var shapeIndex=array"+e.arrayArgs[0]+".shape.length-"+Math.abs(e.arrayBlockIndices[0])+"; shapeIndex-->0;) {"),t.push("if (!("+c.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),t.push("}"));for(var l=0;l<e.scalarArgs.length;++l)s.push("scalar"+e.scalarArgs[l]);r.push(["type=[",i.join(","),"].join()"].join("")),r.push("proc=CACHED[type]"),t.push("var "+r.join(",")),t.push(["if(!proc){","CACHED[type]=proc=compile([",o.join(","),"])}","return proc(",s.join(","),")}"].join("")),e.debug&&console.log("-----Generated thunk:\n"+t.join("\n")+"\n----------");var h=new Function("compile",t.join("\n"));return h(a.bind(void 0,e))}var a=r(8);e.exports=n},function(e,t,r){"use strict";function n(e,t,r){var n,a,o=e.length,i=t.arrayArgs.length,s=t.indexArgs.length>0,u=[],c=[],l=0,f=0;for(n=0;o>n;++n)c.push(["i",n,"=0"].join(""));for(a=0;i>a;++a)for(n=0;o>n;++n)f=l,l=e[n],0===n?c.push(["d",a,"s",n,"=t",a,"p",l].join("")):c.push(["d",a,"s",n,"=(t",a,"p",l,"-s",f,"*t",a,"p",f,")"].join(""));for(u.push("var "+c.join(",")),n=o-1;n>=0;--n)l=e[n],u.push(["for(i",n,"=0;i",n,"<s",l,";++i",n,"){"].join(""));for(u.push(r),n=0;o>n;++n){for(f=l,l=e[n],a=0;i>a;++a)u.push(["p",a,"+=d",a,"s",n].join(""));s&&(n>0&&u.push(["index[",f,"]-=s",f].join("")),u.push(["++index[",l,"]"].join(""))),u.push("}")}return u.join("\n")}function a(e,t,r,a){for(var o=t.length,i=r.arrayArgs.length,s=r.blockSize,u=r.indexArgs.length>0,c=[],l=0;i>l;++l)c.push(["var offset",l,"=p",l].join(""));for(var l=e;o>l;++l)c.push(["for(var j"+l+"=SS[",t[l],"]|0;j",l,">0;){"].join("")),c.push(["if(j",l,"<",s,"){"].join("")),c.push(["s",t[l],"=j",l].join("")),c.push(["j",l,"=0"].join("")),c.push(["}else{s",t[l],"=",s].join("")),c.push(["j",l,"-=",s,"}"].join("")),u&&c.push(["index[",t[l],"]=j",l].join(""));for(var l=0;i>l;++l){for(var f=["offset"+l],h=e;o>h;++h)f.push(["j",h,"*t",l,"p",t[h]].join(""));c.push(["p",l,"=(",f.join("+"),")"].join(""))}c.push(n(t,r,a));for(var l=e;o>l;++l)c.push("}");return c.join("\n")}function o(e){for(var t=0,r=e[0].length;r>t;){for(var n=1;n<e.length;++n)if(e[n][t]!==e[0][t])return t;++t}return t}function i(e,t,r){for(var n=e.body,a=[],o=[],i=0;i<e.args.length;++i){var s=e.args[i];if(!(s.count<=0)){var u=new RegExp(s.name,"g"),c="",l=t.arrayArgs.indexOf(i);switch(t.argTypes[i]){case"offset":var f=t.offsetArgIndex.indexOf(i),h=t.offsetArgs[f];l=h.array,c="+q"+f;case"array":c="p"+l+c;var p="l"+i,d="a"+l;if(0===t.arrayBlockIndices[l])1===s.count?"generic"===r[l]?s.lvalue?(a.push(["var ",p,"=",d,".get(",c,")"].join("")),n=n.replace(u,p),o.push([d,".set(",c,",",p,")"].join(""))):n=n.replace(u,[d,".get(",c,")"].join("")):n=n.replace(u,[d,"[",c,"]"].join("")):"generic"===r[l]?(a.push(["var ",p,"=",d,".get(",c,")"].join("")),n=n.replace(u,p),s.lvalue&&o.push([d,".set(",c,",",p,")"].join(""))):(a.push(["var ",p,"=",d,"[",c,"]"].join("")),n=n.replace(u,p),s.lvalue&&o.push([d,"[",c,"]=",p].join("")));else{for(var g=[s.name],m=[c],y=0;y<Math.abs(t.arrayBlockIndices[l]);y++)g.push("\\s*\\[([^\\]]+)\\]"),m.push("$"+(y+1)+"*t"+l+"b"+y);if(u=new RegExp(g.join(""),"g"),c=m.join("+"),"generic"===r[l])throw new Error("cwise: Generic arrays not supported in combination with blocks!");n=n.replace(u,[d,"[",c,"]"].join(""))}break;case"scalar":n=n.replace(u,"Y"+t.scalarArgs.indexOf(i));break;case"index":n=n.replace(u,"index");break;case"shape":n=n.replace(u,"shape")}}}return[a.join("\n"),n,o.join("\n")].join("\n").trim()}function s(e){for(var t=new Array(e.length),r=!0,n=0;n<e.length;++n){var a=e[n],o=a.match(/\d+/);o=o?o[0]:"",0===a.charAt(0)?t[n]="u"+a.charAt(1)+o:t[n]=a.charAt(0)+o,n>0&&(r=r&&t[n]===t[n-1])}return r?t[0]:t.join("")}function u(e,t){for(var r=t[1].length-Math.abs(e.arrayBlockIndices[0])|0,u=new Array(e.arrayArgs.length),l=new Array(e.arrayArgs.length),f=0;f<e.arrayArgs.length;++f)l[f]=t[2*f],u[f]=t[2*f+1];for(var h=[],p=[],d=[],g=[],m=[],f=0;f<e.arrayArgs.length;++f){e.arrayBlockIndices[f]<0?(d.push(0),g.push(r),h.push(r),p.push(r+e.arrayBlockIndices[f])):(d.push(e.arrayBlockIndices[f]),g.push(e.arrayBlockIndices[f]+r),h.push(0),p.push(e.arrayBlockIndices[f]));for(var y=[],v=0;v<u[f].length;v++)d[f]<=u[f][v]&&u[f][v]<g[f]&&y.push(u[f][v]-d[f]);m.push(y)}for(var b=["SS"],w=["'use strict'"],k=[],v=0;r>v;++v)k.push(["s",v,"=SS[",v,"]"].join(""));for(var f=0;f<e.arrayArgs.length;++f){b.push("a"+f),b.push("t"+f),b.push("p"+f);for(var v=0;r>v;++v)k.push(["t",f,"p",v,"=t",f,"[",d[f]+v,"]"].join(""));for(var v=0;v<Math.abs(e.arrayBlockIndices[f]);++v)k.push(["t",f,"b",v,"=t",f,"[",h[f]+v,"]"].join(""))}for(var f=0;f<e.scalarArgs.length;++f)b.push("Y"+f);if(e.shapeArgs.length>0&&k.push("shape=SS.slice(0)"),e.indexArgs.length>0){for(var x=new Array(r),f=0;r>f;++f)x[f]="0";k.push(["index=[",x.join(","),"]"].join(""))}for(var f=0;f<e.offsetArgs.length;++f){for(var S=e.offsetArgs[f],j=[],v=0;v<S.offset.length;++v)0!==S.offset[v]&&(1===S.offset[v]?j.push(["t",S.array,"p",v].join("")):j.push([S.offset[v],"*t",S.array,"p",v].join("")));0===j.length?k.push("q"+f+"=0"):k.push(["q",f,"=",j.join("+")].join(""))}var A=c([].concat(e.pre.thisVars).concat(e.body.thisVars).concat(e.post.thisVars));k=k.concat(A),w.push("var "+k.join(","));for(var f=0;f<e.arrayArgs.length;++f)w.push("p"+f+"|=0");e.pre.body.length>3&&w.push(i(e.pre,e,l));var E=i(e.body,e,l),_=o(m);r>_?w.push(a(_,m[0],e,E)):w.push(n(m[0],e,E)),e.post.body.length>3&&w.push(i(e.post,e,l)),e.debug&&console.log("-----Generated cwise routine for ",t,":\n"+w.join("\n")+"\n----------");var I=[e.funcName||"unnamed","_cwise_loop_",u[0].join("s"),"m",_,s(l)].join(""),N=new Function(["function ",I,"(",b.join(","),"){",w.join("\n"),"} return ",I].join(""));return N()}var c=r(9);e.exports=u},function(e,t){"use strict";function r(e,t){for(var r=1,n=e.length,a=e[0],o=e[0],i=1;n>i;++i)if(o=a,a=e[i],t(a,o)){if(i===r){r++;continue}e[r++]=a}return e.length=r,e}function n(e){for(var t=1,r=e.length,n=e[0],a=e[0],o=1;r>o;++o,a=n)if(a=n,n=e[o],n!==a){if(o===t){t++;continue}e[t++]=n}return e.length=t,e}function a(e,t,a){return 0===e.length?e:t?(a||e.sort(t),r(e,t)):(a||e.sort(),n(e))}e.exports=a}])})},function(e,t,r){!function(t,r){e.exports=r()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function o(){function e(e){var s=e||document.createElement("canvas");s.width=t.shape[1],s.height=t.shape[0];for(var u=s.getContext("2d"),c=u.getImageData(0,0,s.width,s.height),l=c.data,f=n||(0,p.extent)(t.data),h=i(f,2),y=h[0],v=h[1],b=d.interpolateLab.apply(void 0,a(o)),w=[],k=0;r>k;++k)w.push((0,g.rgb)(b(k/(r-1))));return m(t,l,w,y,v,s.width),u.putImageData(c,0,0),s}var t=(0,u["default"])(new Float64Array([0]),[1,1]),r=256,n=null,o=["#000000","#FFFFFF"];return e.data=function(r){if(!arguments.length)return t;if(r=r.shape?r:(0,l["default"])(r),2!==r.shape.length)throw new Error("Invalid rank: "+r.shape.length);
return t=r,e},e.colorSteps=function(t){return arguments.length?(r=t,e):r},e.domain=function(t){return arguments.length?(n=t,e):n},e.colorRange=function(t){return arguments.length?(o=t,e):o},e}var i=function(){function e(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(u){a=!0,o=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(a)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Object.defineProperty(t,"__esModule",{value:!0}),t.heatmap=void 0;var s=r(1),u=n(s),c=r(4),l=n(c),f=r(10),h=n(f),p=r(13),d=r(14),g=r(15),m=(0,h["default"])({args:["index","array","scalar","scalar","scalar","scalar","scalar"],body:function(e,t,r,n,a,o,i){var s=Math.round((t-a)/(o-a)*(n.length-1)),u=n[s],c=u.r,l=u.g,f=u.b,h=u.a,p=4*(e[0]*i+e[1]);r[p]=c,r[++p]=l,r[++p]=f,r[++p]=h||255}});t.heatmap=o},function(e,t,r){function n(e,t){return e[0]-t[0]}function a(){var e,t=this.stride,r=new Array(t.length);for(e=0;e<r.length;++e)r[e]=[Math.abs(t[e]),e];r.sort(n);var a=new Array(r.length);for(e=0;e<a.length;++e)a[e]=r[e][1];return a}function o(e,t){var r=["View",t,"d",e].join("");0>t&&(r="View_Nil"+e);var n="generic"===e;if(-1===t){var o="function "+r+"(a){this.data=a;};		var proto="+r+".prototype;		proto.dtype='"+e+"';		proto.index=function(){return -1};		proto.size=0;		proto.dimension=-1;		proto.shape=proto.stride=proto.order=[];		proto.lo=proto.hi=proto.transpose=proto.step=		function(){return new "+r+"(this.data);};		proto.get=proto.set=function(){};		proto.pick=function(){return null};		return function construct_"+r+"(a){return new "+r+"(a);}",i=new Function(o);return i()}if(0===t){var o="function "+r+"(a,d) {		this.data = a;		this.offset = d		};		var proto="+r+".prototype;		proto.dtype='"+e+"';		proto.index=function(){return this.offset};		proto.dimension=0;		proto.size=1;		proto.shape=		proto.stride=		proto.order=[];		proto.lo=		proto.hi=		proto.transpose=		proto.step=function "+r+"_copy() {		return new "+r+"(this.data,this.offset)		};		proto.pick=function "+r+"_pick(){		return TrivialArray(this.data);		};		proto.valueOf=proto.get=function "+r+"_get(){		return "+(n?"this.data.get(this.offset)":"this.data[this.offset]")+"};		proto.set=function "+r+"_set(v){		return "+(n?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"		};		return function construct_"+r+"(a,b,c,d){return new "+r+"(a,d)}",i=new Function("TrivialArray",o);return i(f[e][0])}var o=["'use strict'"],s=u(t),c=s.map(function(e){return"i"+e}),l="this.offset+"+s.map(function(e){return"this.stride["+e+"]*i"+e}).join("+"),h=s.map(function(e){return"b"+e}).join(","),p=s.map(function(e){return"c"+e}).join(",");o.push("function "+r+"(a,"+h+","+p+",d){this.data=a","this.shape=["+h+"]","this.stride=["+p+"]","this.offset=d|0}","var proto="+r+".prototype","proto.dtype='"+e+"'","proto.dimension="+t),o.push("Object.defineProperty(proto,'size',{get:function "+r+"_size(){		return "+s.map(function(e){return"this.shape["+e+"]"}).join("*"),"}})"),1===t?o.push("proto.order=[0]"):(o.push("Object.defineProperty(proto,'order',{get:"),4>t?(o.push("function "+r+"_order(){"),2===t?o.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===t&&o.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);		if(s0>s1){		if(s1>s2){		return [2,1,0];		}else if(s0>s2){		return [1,2,0];		}else{		return [1,0,2];		}		}else if(s0>s2){		return [2,0,1];		}else if(s2>s1){		return [0,1,2];		}else{		return [0,2,1];		}}})")):o.push("ORDER})")),o.push("proto.set=function "+r+"_set("+c.join(",")+",v){"),n?o.push("return this.data.set("+l+",v)}"):o.push("return this.data["+l+"]=v}"),o.push("proto.get=function "+r+"_get("+c.join(",")+"){"),n?o.push("return this.data.get("+l+")}"):o.push("return this.data["+l+"]}"),o.push("proto.index=function "+r+"_index(",c.join(),"){return "+l+"}"),o.push("proto.hi=function "+r+"_hi("+c.join(",")+"){return new "+r+"(this.data,"+s.map(function(e){return["(typeof i",e,"!=='number'||i",e,"<0)?this.shape[",e,"]:i",e,"|0"].join("")}).join(",")+","+s.map(function(e){return"this.stride["+e+"]"}).join(",")+",this.offset)}");var d=s.map(function(e){return"a"+e+"=this.shape["+e+"]"}),g=s.map(function(e){return"c"+e+"=this.stride["+e+"]"});o.push("proto.lo=function "+r+"_lo("+c.join(",")+"){var b=this.offset,d=0,"+d.join(",")+","+g.join(","));for(var m=0;t>m;++m)o.push("if(typeof i"+m+"==='number'&&i"+m+">=0){		d=i"+m+"|0;		b+=c"+m+"*d;		a"+m+"-=d}");o.push("return new "+r+"(this.data,"+s.map(function(e){return"a"+e}).join(",")+","+s.map(function(e){return"c"+e}).join(",")+",b)}"),o.push("proto.step=function "+r+"_step("+c.join(",")+"){var "+s.map(function(e){return"a"+e+"=this.shape["+e+"]"}).join(",")+","+s.map(function(e){return"b"+e+"=this.stride["+e+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var m=0;t>m;++m)o.push("if(typeof i"+m+"==='number'){		d=i"+m+"|0;		if(d<0){		c+=b"+m+"*(a"+m+"-1);		a"+m+"=ceil(-a"+m+"/d)		}else{		a"+m+"=ceil(a"+m+"/d)		}		b"+m+"*=d		}");o.push("return new "+r+"(this.data,"+s.map(function(e){return"a"+e}).join(",")+","+s.map(function(e){return"b"+e}).join(",")+",c)}");for(var y=new Array(t),v=new Array(t),m=0;t>m;++m)y[m]="a[i"+m+"]",v[m]="b[i"+m+"]";o.push("proto.transpose=function "+r+"_transpose("+c+"){"+c.map(function(e,t){return e+"=("+e+"===undefined?"+t+":"+e+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+r+"(this.data,"+y.join(",")+","+v.join(",")+",this.offset)}"),o.push("proto.pick=function "+r+"_pick("+c+"){var a=[],b=[],c=this.offset");for(var m=0;t>m;++m)o.push("if(typeof i"+m+"==='number'&&i"+m+">=0){c=(c+this.stride["+m+"]*i"+m+")|0}else{a.push(this.shape["+m+"]);b.push(this.stride["+m+"])}");o.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),o.push("return function construct_"+r+"(data,shape,stride,offset){return new "+r+"(data,"+s.map(function(e){return"shape["+e+"]"}).join(",")+","+s.map(function(e){return"stride["+e+"]"}).join(",")+",offset)}");var i=new Function("CTOR_LIST","ORDER",o.join("\n"));return i(f[e],a)}function i(e){if(c(e))return"buffer";if(l)switch(Object.prototype.toString.call(e)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(e)?"array":"generic"}function s(e,t,r,n){if(void 0===e){var a=f.array[0];return a([])}"number"==typeof e&&(e=[e]),void 0===t&&(t=[e.length]);var s=t.length;if(void 0===r){r=new Array(s);for(var u=s-1,c=1;u>=0;--u)r[u]=c,c*=t[u]}if(void 0===n){n=0;for(var u=0;s>u;++u)r[u]<0&&(n-=(t[u]-1)*r[u])}for(var l=i(e),h=f[l];h.length<=s+1;)h.push(o(l,h.length-1));var a=h[s+1];return a(e,t,r,n)}var u=r(2),c=r(3),l="undefined"!=typeof Float64Array,f={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};e.exports=s},function(e,t){"use strict";function r(e){for(var t=new Array(e),r=0;e>r;++r)t[r]=r;return t}e.exports=r},function(e,t){e.exports=function(e){return!(null==e||!(e._isBuffer||e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)))}},function(e,t,r){"use strict";var n=r(1),a=r(5);e.exports=function(e,t){for(var r=[],o=e,i=1;o instanceof Array;)r.push(o.length),i*=o.length,o=o[0];return 0===r.length?n():(t||(t=n(new Float64Array(i),r)),a(t,e),t)}},function(e,t,r){e.exports=r(6)({args:["array","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{\nvar _inline_1_v=_inline_1_arg1_,_inline_1_i\nfor(_inline_1_i=0;_inline_1_i<_inline_1_arg2_.length-1;++_inline_1_i) {\n_inline_1_v=_inline_1_v[_inline_1_arg2_[_inline_1_i]]\n}\n_inline_1_arg0_=_inline_1_v[_inline_1_arg2_[_inline_1_arg2_.length-1]]\n}",args:[{name:"_inline_1_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:4}],thisVars:[],localVars:["_inline_1_i","_inline_1_v"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},funcName:"convert",blockSize:64})},function(e,t,r){"use strict";function n(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function a(e){var t=new n;t.pre=e.pre,t.body=e.body,t.post=e.post;var r=e.args.slice(0);t.argTypes=r;for(var a=0;a<r.length;++a){var i=r[a];if("array"===i||"object"==typeof i&&i.blockIndices){if(t.argTypes[a]="array",t.arrayArgs.push(a),t.arrayBlockIndices.push(i.blockIndices?i.blockIndices:0),t.shimArgs.push("array"+a),a<t.pre.args.length&&t.pre.args[a].count>0)throw new Error("cwise: pre() block may not reference array args");if(a<t.post.args.length&&t.post.args[a].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===i)t.scalarArgs.push(a),t.shimArgs.push("scalar"+a);else if("index"===i){if(t.indexArgs.push(a),a<t.pre.args.length&&t.pre.args[a].count>0)throw new Error("cwise: pre() block may not reference array index");if(a<t.body.args.length&&t.body.args[a].lvalue)throw new Error("cwise: body() block may not write to array index");if(a<t.post.args.length&&t.post.args[a].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===i){if(t.shapeArgs.push(a),a<t.pre.args.length&&t.pre.args[a].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(a<t.body.args.length&&t.body.args[a].lvalue)throw new Error("cwise: body() block may not write to array shape");if(a<t.post.args.length&&t.post.args[a].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof i||!i.offset)throw new Error("cwise: Unknown argument type "+r[a]);t.argTypes[a]="offset",t.offsetArgs.push({array:i.array,offset:i.offset}),t.offsetArgIndex.push(a)}}if(t.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(t.pre.args.length>r.length)throw new Error("cwise: Too many arguments in pre() block");if(t.body.args.length>r.length)throw new Error("cwise: Too many arguments in body() block");if(t.post.args.length>r.length)throw new Error("cwise: Too many arguments in post() block");return t.debug=!!e.printCode||!!e.debug,t.funcName=e.funcName||"cwise",t.blockSize=e.blockSize||64,o(t)}var o=r(7);e.exports=a},function(e,t,r){"use strict";function n(e){var t=["'use strict'","var CACHED={}"],r=[],n=e.funcName+"_cwise_thunk";t.push(["return function ",n,"(",e.shimArgs.join(","),"){"].join(""));for(var o=[],i=[],s=[["array",e.arrayArgs[0],".shape.slice(",Math.max(0,e.arrayBlockIndices[0]),e.arrayBlockIndices[0]<0?","+e.arrayBlockIndices[0]+")":")"].join("")],u=[],c=[],l=0;l<e.arrayArgs.length;++l){var f=e.arrayArgs[l];r.push(["t",f,"=array",f,".dtype,","r",f,"=array",f,".order"].join("")),o.push("t"+f),o.push("r"+f),i.push("t"+f),i.push("r"+f+".join()"),s.push("array"+f+".data"),s.push("array"+f+".stride"),s.push("array"+f+".offset|0"),l>0&&(u.push("array"+e.arrayArgs[0]+".shape.length===array"+f+".shape.length+"+(Math.abs(e.arrayBlockIndices[0])-Math.abs(e.arrayBlockIndices[l]))),c.push("array"+e.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[0])+"]===array"+f+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[l])+"]"))}e.arrayArgs.length>1&&(t.push("if (!("+u.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),t.push("for(var shapeIndex=array"+e.arrayArgs[0]+".shape.length-"+Math.abs(e.arrayBlockIndices[0])+"; shapeIndex-->0;) {"),t.push("if (!("+c.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),t.push("}"));for(var l=0;l<e.scalarArgs.length;++l)s.push("scalar"+e.scalarArgs[l]);r.push(["type=[",i.join(","),"].join()"].join("")),r.push("proc=CACHED[type]"),t.push("var "+r.join(",")),t.push(["if(!proc){","CACHED[type]=proc=compile([",o.join(","),"])}","return proc(",s.join(","),")}"].join("")),e.debug&&console.log("-----Generated thunk:\n"+t.join("\n")+"\n----------");var h=new Function("compile",t.join("\n"));return h(a.bind(void 0,e))}var a=r(8);e.exports=n},function(e,t,r){"use strict";function n(e,t,r){var n,a,o=e.length,i=t.arrayArgs.length,s=t.indexArgs.length>0,u=[],c=[],l=0,f=0;for(n=0;o>n;++n)c.push(["i",n,"=0"].join(""));for(a=0;i>a;++a)for(n=0;o>n;++n)f=l,l=e[n],0===n?c.push(["d",a,"s",n,"=t",a,"p",l].join("")):c.push(["d",a,"s",n,"=(t",a,"p",l,"-s",f,"*t",a,"p",f,")"].join(""));for(u.push("var "+c.join(",")),n=o-1;n>=0;--n)l=e[n],u.push(["for(i",n,"=0;i",n,"<s",l,";++i",n,"){"].join(""));for(u.push(r),n=0;o>n;++n){for(f=l,l=e[n],a=0;i>a;++a)u.push(["p",a,"+=d",a,"s",n].join(""));s&&(n>0&&u.push(["index[",f,"]-=s",f].join("")),u.push(["++index[",l,"]"].join(""))),u.push("}")}return u.join("\n")}function a(e,t,r,a){for(var o=t.length,i=r.arrayArgs.length,s=r.blockSize,u=r.indexArgs.length>0,c=[],l=0;i>l;++l)c.push(["var offset",l,"=p",l].join(""));for(var l=e;o>l;++l)c.push(["for(var j"+l+"=SS[",t[l],"]|0;j",l,">0;){"].join("")),c.push(["if(j",l,"<",s,"){"].join("")),c.push(["s",t[l],"=j",l].join("")),c.push(["j",l,"=0"].join("")),c.push(["}else{s",t[l],"=",s].join("")),c.push(["j",l,"-=",s,"}"].join("")),u&&c.push(["index[",t[l],"]=j",l].join(""));for(var l=0;i>l;++l){for(var f=["offset"+l],h=e;o>h;++h)f.push(["j",h,"*t",l,"p",t[h]].join(""));c.push(["p",l,"=(",f.join("+"),")"].join(""))}c.push(n(t,r,a));for(var l=e;o>l;++l)c.push("}");return c.join("\n")}function o(e){for(var t=0,r=e[0].length;r>t;){for(var n=1;n<e.length;++n)if(e[n][t]!==e[0][t])return t;++t}return t}function i(e,t,r){for(var n=e.body,a=[],o=[],i=0;i<e.args.length;++i){var s=e.args[i];if(!(s.count<=0)){var u=new RegExp(s.name,"g"),c="",l=t.arrayArgs.indexOf(i);switch(t.argTypes[i]){case"offset":var f=t.offsetArgIndex.indexOf(i),h=t.offsetArgs[f];l=h.array,c="+q"+f;case"array":c="p"+l+c;var p="l"+i,d="a"+l;if(0===t.arrayBlockIndices[l])1===s.count?"generic"===r[l]?s.lvalue?(a.push(["var ",p,"=",d,".get(",c,")"].join("")),n=n.replace(u,p),o.push([d,".set(",c,",",p,")"].join(""))):n=n.replace(u,[d,".get(",c,")"].join("")):n=n.replace(u,[d,"[",c,"]"].join("")):"generic"===r[l]?(a.push(["var ",p,"=",d,".get(",c,")"].join("")),n=n.replace(u,p),s.lvalue&&o.push([d,".set(",c,",",p,")"].join(""))):(a.push(["var ",p,"=",d,"[",c,"]"].join("")),n=n.replace(u,p),s.lvalue&&o.push([d,"[",c,"]=",p].join("")));else{for(var g=[s.name],m=[c],y=0;y<Math.abs(t.arrayBlockIndices[l]);y++)g.push("\\s*\\[([^\\]]+)\\]"),m.push("$"+(y+1)+"*t"+l+"b"+y);if(u=new RegExp(g.join(""),"g"),c=m.join("+"),"generic"===r[l])throw new Error("cwise: Generic arrays not supported in combination with blocks!");n=n.replace(u,[d,"[",c,"]"].join(""))}break;case"scalar":n=n.replace(u,"Y"+t.scalarArgs.indexOf(i));break;case"index":n=n.replace(u,"index");break;case"shape":n=n.replace(u,"shape")}}}return[a.join("\n"),n,o.join("\n")].join("\n").trim()}function s(e){for(var t=new Array(e.length),r=!0,n=0;n<e.length;++n){var a=e[n],o=a.match(/\d+/);o=o?o[0]:"",0===a.charAt(0)?t[n]="u"+a.charAt(1)+o:t[n]=a.charAt(0)+o,n>0&&(r=r&&t[n]===t[n-1])}return r?t[0]:t.join("")}function u(e,t){for(var r=t[1].length-Math.abs(e.arrayBlockIndices[0])|0,u=new Array(e.arrayArgs.length),l=new Array(e.arrayArgs.length),f=0;f<e.arrayArgs.length;++f)l[f]=t[2*f],u[f]=t[2*f+1];for(var h=[],p=[],d=[],g=[],m=[],f=0;f<e.arrayArgs.length;++f){e.arrayBlockIndices[f]<0?(d.push(0),g.push(r),h.push(r),p.push(r+e.arrayBlockIndices[f])):(d.push(e.arrayBlockIndices[f]),g.push(e.arrayBlockIndices[f]+r),h.push(0),p.push(e.arrayBlockIndices[f]));for(var y=[],v=0;v<u[f].length;v++)d[f]<=u[f][v]&&u[f][v]<g[f]&&y.push(u[f][v]-d[f]);m.push(y)}for(var b=["SS"],w=["'use strict'"],k=[],v=0;r>v;++v)k.push(["s",v,"=SS[",v,"]"].join(""));for(var f=0;f<e.arrayArgs.length;++f){b.push("a"+f),b.push("t"+f),b.push("p"+f);for(var v=0;r>v;++v)k.push(["t",f,"p",v,"=t",f,"[",d[f]+v,"]"].join(""));for(var v=0;v<Math.abs(e.arrayBlockIndices[f]);++v)k.push(["t",f,"b",v,"=t",f,"[",h[f]+v,"]"].join(""))}for(var f=0;f<e.scalarArgs.length;++f)b.push("Y"+f);if(e.shapeArgs.length>0&&k.push("shape=SS.slice(0)"),e.indexArgs.length>0){for(var x=new Array(r),f=0;r>f;++f)x[f]="0";k.push(["index=[",x.join(","),"]"].join(""))}for(var f=0;f<e.offsetArgs.length;++f){for(var S=e.offsetArgs[f],j=[],v=0;v<S.offset.length;++v)0!==S.offset[v]&&(1===S.offset[v]?j.push(["t",S.array,"p",v].join("")):j.push([S.offset[v],"*t",S.array,"p",v].join("")));0===j.length?k.push("q"+f+"=0"):k.push(["q",f,"=",j.join("+")].join(""))}var A=c([].concat(e.pre.thisVars).concat(e.body.thisVars).concat(e.post.thisVars));k=k.concat(A),w.push("var "+k.join(","));for(var f=0;f<e.arrayArgs.length;++f)w.push("p"+f+"|=0");e.pre.body.length>3&&w.push(i(e.pre,e,l));var E=i(e.body,e,l),_=o(m);r>_?w.push(a(_,m[0],e,E)):w.push(n(m[0],e,E)),e.post.body.length>3&&w.push(i(e.post,e,l)),e.debug&&console.log("-----Generated cwise routine for ",t,":\n"+w.join("\n")+"\n----------");var I=[e.funcName||"unnamed","_cwise_loop_",u[0].join("s"),"m",_,s(l)].join(""),N=new Function(["function ",I,"(",b.join(","),"){",w.join("\n"),"} return ",I].join(""));return N()}var c=r(9);e.exports=u},function(e,t){"use strict";function r(e,t){for(var r=1,n=e.length,a=e[0],o=e[0],i=1;n>i;++i)if(o=a,a=e[i],t(a,o)){if(i===r){r++;continue}e[r++]=a}return e.length=r,e}function n(e){for(var t=1,r=e.length,n=e[0],a=e[0],o=1;r>o;++o,a=n)if(a=n,n=e[o],n!==a){if(o===t){t++;continue}e[t++]=n}return e.length=t,e}function a(e,t,a){return 0===e.length?e:t?(a||e.sort(t),r(e,t)):(a||e.sort(),n(e))}e.exports=a},function(e,t,r){"use strict";function n(e){for(var t in e)i.indexOf(t)<0&&s.indexOf(t)<0&&console.warn("cwise: Unknown argument '"+t+"' passed to expression compiler");for(var r=0;r<i.length;++r)if(!e[i[r]])throw new Error("cwise: Missing argument: "+i[r]);return o({args:e.args,pre:a(e.pre||function(){}),body:a(e.body),post:a(e.post||function(){}),debug:!!e.printCode,funcName:e.funcName||e.body.name||"cwise",blockSize:e.blockSize||64})}var a=r(11),o=r(6),i=["args","body"],s=["pre","post","printCode","funcName","blockSize"];e.exports=n},function(e,t,r){"use strict";function n(e,t,r){this.name=e,this.lvalue=t,this.rvalue=r,this.count=0}function a(e,t,r,n){this.body=e,this.args=t,this.thisVars=r,this.localVars=n}function o(e){if("eval"===e)throw new Error("cwise-parser: eval() not allowed");return"undefined"!=typeof window?e in window:"undefined"!=typeof GLOBAL?e in GLOBAL:"undefined"!=typeof self?e in self:!1}function i(e){for(var t=e.body[0].expression.callee.params,r=new Array(t.length),n=0;n<t.length;++n)r[n]=t[n].name;return r}function s(e){function t(e){var t=m+e.replace(/\_/g,"__");return x.push(t),t}function r(e){var t="this_"+e.replace(/\_/g,"__");return S.push(t),t}function s(e,t){for(var r=e.range[0],n=e.range[1],a=r+1;n>a;++a)w[a]="";w[r]=t}function f(e){return"'"+e.replace(/\_/g,"\\_").replace(/\'/g,"'")+"'"}function h(e){return w.slice(e.range[0],e.range[1]).join("")}function p(e){return"AssignmentExpression"===e.parent.type&&e.parent.left===e?"="===e.parent.operator?j:j|A:"UpdateExpression"===e.parent.type?j|A:A}for(var d=["(",e,")()"].join(""),g=u.parse(d,{range:!0}),m="_inline_"+l++ +"_",y=i(g),v=new Array(y.length),b=0;b<y.length;++b)v[b]=new n([m,"arg",b,"_"].join(""),!1,!1);for(var w=new Array(d.length),b=0,k=d.length;k>b;++b)w[b]=d.charAt(b);var x=[],S=[],j=1,A=2;!function _(e,n){if(e.parent=n,"MemberExpression"===e.type)e.computed?(_(e.object,e),_(e.property,e)):"ThisExpression"===e.object.type?s(e,r(e.property.name)):_(e.object,e);else{if("ThisExpression"===e.type)throw new Error("cwise-parser: Computed this is not allowed");if("Identifier"===e.type){var a=e.name,i=y.indexOf(a);if(i>=0){var u=v[i],c=p(e);c&j&&(u.lvalue=!0),c&A&&(u.rvalue=!0),++u.count,s(e,u.name)}else o(a)||s(e,t(a))}else if("Literal"===e.type)"string"==typeof e.value&&s(e,f(e.value));else{if("WithStatement"===e.type)throw new Error("cwise-parser: with() statements not allowed");for(var l=Object.keys(e),h=0,d=l.length;d>h;++h)if("parent"!==l[h]){var g=e[l[h]];if(g)if(g instanceof Array)for(var m=0;m<g.length;++m)g[m]&&"string"==typeof g[m].type&&_(g[m],e);else"string"==typeof g.type&&_(g,e)}}}}(g.body[0].expression.callee.body,void 0),c(x),c(S);var E=new a(h(g.body[0].expression.callee.body),v,S,x);return E}var u=r(12),c=r(9),l=0;e.exports=s},function(e,t,r){var n,a,o;!function(r,i){"use strict";a=[t],n=i,o="function"==typeof n?n.apply(t,a):n,!(void 0!==o&&(e.exports=o))}(this,function(e){"use strict";function t(e,t){if(!e)throw new Error("ASSERT: "+t)}function r(e){return e>=48&&57>=e}function n(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function a(e){return"01234567".indexOf(e)>=0}function o(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function i(e){return 10===e||13===e||8232===e||8233===e}function s(e){return 36===e||95===e||e>=65&&90>=e||e>=97&&122>=e||92===e||e>=128&&ot.NonAsciiIdentifierStart.test(String.fromCharCode(e))}function u(e){return 36===e||95===e||e>=65&&90>=e||e>=97&&122>=e||e>=48&&57>=e||92===e||e>=128&&ot.NonAsciiIdentifierPart.test(String.fromCharCode(e))}function c(e){switch(e){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}function l(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function f(e){return"eval"===e||"arguments"===e}function h(e){if(ut&&l(e))return!0;switch(e.length){case 2:return"if"===e||"in"===e||"do"===e;case 3:return"var"===e||"for"===e||"new"===e||"try"===e||"let"===e;case 4:return"this"===e||"else"===e||"case"===e||"void"===e||"with"===e||"enum"===e;case 5:return"while"===e||"break"===e||"catch"===e||"throw"===e||"const"===e||"yield"===e||"class"===e||"super"===e;case 6:return"return"===e||"typeof"===e||"delete"===e||"switch"===e||"export"===e||"import"===e;case 7:return"default"===e||"finally"===e||"extends"===e;case 8:return"function"===e||"continue"===e||"debugger"===e;case 10:return"instanceof"===e;default:return!1}}function p(e,r,n,a,o){var i;t("number"==typeof n,"Comment must have valid position"),gt.lastCommentStart>=n||(gt.lastCommentStart=n,i={type:e,value:r},mt.range&&(i.range=[n,a]),mt.loc&&(i.loc=o),mt.comments.push(i),mt.attachComment&&(mt.leadingComments.push(i),mt.trailingComments.push(i)))}function d(e){var t,r,n,a;for(t=ct-e,r={start:{line:lt,column:ct-ft-e}};ht>ct;)if(n=st.charCodeAt(ct),++ct,i(n))return mt.comments&&(a=st.slice(t+e,ct-1),r.end={line:lt,column:ct-ft-1},p("Line",a,t,ct-1,r)),13===n&&10===st.charCodeAt(ct)&&++ct,++lt,void(ft=ct);mt.comments&&(a=st.slice(t+e,ct),r.end={line:lt,column:ct-ft},p("Line",a,t,ct,r))}function g(){var e,t,r,n;for(mt.comments&&(e=ct-2,t={start:{line:lt,column:ct-ft-2}});ht>ct;)if(r=st.charCodeAt(ct),i(r))13===r&&10===st.charCodeAt(ct+1)&&++ct,++lt,++ct,ft=ct,ct>=ht&&V({},at.UnexpectedToken,"ILLEGAL");else if(42===r){if(47===st.charCodeAt(ct+1))return++ct,++ct,void(mt.comments&&(n=st.slice(e+2,ct-2),t.end={line:lt,column:ct-ft},p("Block",n,e,ct,t)));++ct}else++ct;V({},at.UnexpectedToken,"ILLEGAL")}function m(){var e,t;for(t=0===ct;ht>ct;)if(e=st.charCodeAt(ct),o(e))++ct;else if(i(e))++ct,13===e&&10===st.charCodeAt(ct)&&++ct,++lt,ft=ct,t=!0;else if(47===e)if(e=st.charCodeAt(ct+1),47===e)++ct,++ct,d(2),t=!0;else{if(42!==e)break;++ct,++ct,g()}else if(t&&45===e){if(45!==st.charCodeAt(ct+1)||62!==st.charCodeAt(ct+2))break;ct+=3,d(3)}else{if(60!==e)break;if("!--"!==st.slice(ct+1,ct+4))break;++ct,++ct,++ct,++ct,d(4)}}function y(e){var t,r,a,o=0;for(r="u"===e?4:2,t=0;r>t;++t){if(!(ht>ct&&n(st[ct])))return"";a=st[ct++],o=16*o+"0123456789abcdef".indexOf(a.toLowerCase())}return String.fromCharCode(o)}function v(){var e,t;for(e=st.charCodeAt(ct++),t=String.fromCharCode(e),92===e&&(117!==st.charCodeAt(ct)&&V({},at.UnexpectedToken,"ILLEGAL"),++ct,e=y("u"),e&&"\\"!==e&&s(e.charCodeAt(0))||V({},at.UnexpectedToken,"ILLEGAL"),t=e);ht>ct&&(e=st.charCodeAt(ct),u(e));)++ct,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==st.charCodeAt(ct)&&V({},at.UnexpectedToken,"ILLEGAL"),++ct,e=y("u"),e&&"\\"!==e&&u(e.charCodeAt(0))||V({},at.UnexpectedToken,"ILLEGAL"),t+=e);return t}function b(){var e,t;for(e=ct++;ht>ct;){if(t=st.charCodeAt(ct),92===t)return ct=e,v();if(!u(t))break;++ct}return st.slice(e,ct)}function w(){var e,t,r;return e=ct,t=92===st.charCodeAt(ct)?v():b(),r=1===t.length?Je.Identifier:h(t)?Je.Keyword:"null"===t?Je.NullLiteral:"true"===t||"false"===t?Je.BooleanLiteral:Je.Identifier,{type:r,value:t,lineNumber:lt,lineStart:ft,start:e,end:ct}}function k(){var e,t,r,n,a=ct,o=st.charCodeAt(ct),i=st[ct];switch(o){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++ct,mt.tokenize&&(40===o?mt.openParenToken=mt.tokens.length:123===o&&(mt.openCurlyToken=mt.tokens.length)),{type:Je.Punctuator,value:String.fromCharCode(o),lineNumber:lt,lineStart:ft,start:a,end:ct};default:if(e=st.charCodeAt(ct+1),61===e)switch(o){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return ct+=2,{type:Je.Punctuator,value:String.fromCharCode(o)+String.fromCharCode(e),lineNumber:lt,lineStart:ft,start:a,end:ct};case 33:case 61:return ct+=2,61===st.charCodeAt(ct)&&++ct,{type:Je.Punctuator,value:st.slice(a,ct),lineNumber:lt,lineStart:ft,start:a,end:ct}}}return n=st.substr(ct,4),">>>="===n?(ct+=4,{type:Je.Punctuator,value:n,lineNumber:lt,lineStart:ft,start:a,end:ct}):(r=n.substr(0,3),">>>"===r||"<<="===r||">>="===r?(ct+=3,{type:Je.Punctuator,value:r,lineNumber:lt,lineStart:ft,start:a,end:ct}):(t=r.substr(0,2),i===t[1]&&"+-<>&|".indexOf(i)>=0||"=>"===t?(ct+=2,{type:Je.Punctuator,value:t,lineNumber:lt,lineStart:ft,start:a,end:ct}):"<>=!+-*%&|^/".indexOf(i)>=0?(++ct,{type:Je.Punctuator,value:i,lineNumber:lt,lineStart:ft,start:a,end:ct}):void V({},at.UnexpectedToken,"ILLEGAL")))}function x(e){for(var t="";ht>ct&&n(st[ct]);)t+=st[ct++];return 0===t.length&&V({},at.UnexpectedToken,"ILLEGAL"),s(st.charCodeAt(ct))&&V({},at.UnexpectedToken,"ILLEGAL"),{type:Je.NumericLiteral,value:parseInt("0x"+t,16),lineNumber:lt,lineStart:ft,start:e,end:ct}}function S(e){for(var t="0"+st[ct++];ht>ct&&a(st[ct]);)t+=st[ct++];return(s(st.charCodeAt(ct))||r(st.charCodeAt(ct)))&&V({},at.UnexpectedToken,"ILLEGAL"),{type:Je.NumericLiteral,value:parseInt(t,8),octal:!0,lineNumber:lt,lineStart:ft,start:e,end:ct}}function j(){var e,t;for(e=ct+1;ht>e;++e){if(t=st[e],"8"===t||"9"===t)return!1;if(!a(t))return!0}return!0}function A(){var e,n,o;if(o=st[ct],t(r(o.charCodeAt(0))||"."===o,"Numeric literal must start with a decimal digit or a decimal point"),n=ct,e="","."!==o){if(e=st[ct++],o=st[ct],"0"===e){if("x"===o||"X"===o)return++ct,x(n);if(a(o)&&j())return S(n)}for(;r(st.charCodeAt(ct));)e+=st[ct++];o=st[ct]}if("."===o){for(e+=st[ct++];r(st.charCodeAt(ct));)e+=st[ct++];o=st[ct]}if("e"===o||"E"===o)if(e+=st[ct++],o=st[ct],("+"===o||"-"===o)&&(e+=st[ct++]),r(st.charCodeAt(ct)))for(;r(st.charCodeAt(ct));)e+=st[ct++];else V({},at.UnexpectedToken,"ILLEGAL");return s(st.charCodeAt(ct))&&V({},at.UnexpectedToken,"ILLEGAL"),{type:Je.NumericLiteral,value:parseFloat(e),lineNumber:lt,lineStart:ft,start:n,end:ct}}function E(){var e,r,n,o,s,u,c,l,f="",h=!1;for(c=lt,l=ft,e=st[ct],t("'"===e||'"'===e,"String literal must starts with a quote"),r=ct,++ct;ht>ct;){if(n=st[ct++],n===e){e="";break}if("\\"===n)if(n=st[ct++],n&&i(n.charCodeAt(0)))++lt,"\r"===n&&"\n"===st[ct]&&++ct,ft=ct;else switch(n){case"u":case"x":u=ct,s=y(n),s?f+=s:(ct=u,f+=n);break;case"n":f+="\n";break;case"r":f+="\r";break;case"t":f+="	";break;case"b":f+="\b";break;case"f":f+="\f";break;case"v":f+="\x0B";break;default:a(n)?(o="01234567".indexOf(n),0!==o&&(h=!0),ht>ct&&a(st[ct])&&(h=!0,o=8*o+"01234567".indexOf(st[ct++]),"0123".indexOf(n)>=0&&ht>ct&&a(st[ct])&&(o=8*o+"01234567".indexOf(st[ct++]))),f+=String.fromCharCode(o)):f+=n}else{if(i(n.charCodeAt(0)))break;f+=n}}return""!==e&&V({},at.UnexpectedToken,"ILLEGAL"),{type:Je.StringLiteral,value:f,octal:h,startLineNumber:c,startLineStart:l,lineNumber:lt,lineStart:ft,start:r,end:ct}}function _(e,t){var r;try{r=new RegExp(e,t)}catch(n){V({},at.InvalidRegExp)}return r}function I(){var e,r,n,a,o;for(e=st[ct],t("/"===e,"Regular expression literal must start with a slash"),r=st[ct++],n=!1,a=!1;ht>ct;)if(e=st[ct++],r+=e,"\\"===e)e=st[ct++],i(e.charCodeAt(0))&&V({},at.UnterminatedRegExp),r+=e;else if(i(e.charCodeAt(0)))V({},at.UnterminatedRegExp);else if(n)"]"===e&&(n=!1);else{if("/"===e){a=!0;break}"["===e&&(n=!0)}return a||V({},at.UnterminatedRegExp),o=r.substr(1,r.length-2),{value:o,literal:r}}function N(){var e,t,r,n;for(t="",r="";ht>ct&&(e=st[ct],u(e.charCodeAt(0)));)if(++ct,"\\"===e&&ht>ct)if(e=st[ct],"u"===e){if(++ct,n=ct,e=y("u"))for(r+=e,t+="\\u";ct>n;++n)t+=st[n];else ct=n,r+="u",t+="\\u";q({},at.UnexpectedToken,"ILLEGAL")}else t+="\\",q({},at.UnexpectedToken,"ILLEGAL");else r+=e,t+=e;return{value:r,literal:t}}function C(){var e,t,r,n;return dt=null,m(),e=ct,t=I(),r=N(),n=_(t.value,r.value),mt.tokenize?{type:Je.RegularExpression,value:n,lineNumber:lt,lineStart:ft,start:e,end:ct}:{literal:t.literal+r.literal,value:n,start:e,end:ct}}function M(){var e,t,r,n;return m(),e=ct,t={start:{line:lt,column:ct-ft}},r=C(),t.end={line:lt,column:ct-ft},mt.tokenize||(mt.tokens.length>0&&(n=mt.tokens[mt.tokens.length-1],n.range[0]===e&&"Punctuator"===n.type&&("/"===n.value||"/="===n.value)&&mt.tokens.pop()),mt.tokens.push({type:"RegularExpression",value:r.literal,range:[e,ct],loc:t})),r}function L(e){return e.type===Je.Identifier||e.type===Je.Keyword||e.type===Je.BooleanLiteral||e.type===Je.NullLiteral}function O(){var e,t;if(e=mt.tokens[mt.tokens.length-1],!e)return M();if("Punctuator"===e.type){if("]"===e.value)return k();if(")"===e.value)return t=mt.tokens[mt.openParenToken-1],!t||"Keyword"!==t.type||"if"!==t.value&&"while"!==t.value&&"for"!==t.value&&"with"!==t.value?k():M();if("}"===e.value){if(mt.tokens[mt.openCurlyToken-3]&&"Keyword"===mt.tokens[mt.openCurlyToken-3].type){if(t=mt.tokens[mt.openCurlyToken-4],!t)return k()}else{if(!mt.tokens[mt.openCurlyToken-4]||"Keyword"!==mt.tokens[mt.openCurlyToken-4].type)return k();if(t=mt.tokens[mt.openCurlyToken-5],!t)return M()}return tt.indexOf(t.value)>=0?k():M()}return M()}return"Keyword"===e.type&&"this"!==e.value?M():k()}function B(){var e;return m(),ct>=ht?{type:Je.EOF,lineNumber:lt,lineStart:ft,start:ct,end:ct}:(e=st.charCodeAt(ct),s(e)?w():40===e||41===e||59===e?k():39===e||34===e?E():46===e?r(st.charCodeAt(ct+1))?A():k():r(e)?A():mt.tokenize&&47===e?O():k())}function T(){var e,t,r;return m(),e={start:{line:lt,column:ct-ft}},t=B(),e.end={line:lt,column:ct-ft},t.type!==Je.EOF&&(r=st.slice(t.start,t.end),mt.tokens.push({type:et[t.type],value:r,range:[t.start,t.end],loc:e})),t}function F(){var e;return e=dt,ct=e.end,lt=e.lineNumber,ft=e.lineStart,dt="undefined"!=typeof mt.tokens?T():B(),ct=e.end,lt=e.lineNumber,ft=e.lineStart,e}function R(){var e,t,r;e=ct,t=lt,r=ft,dt="undefined"!=typeof mt.tokens?T():B(),ct=e,lt=t,ft=r}function P(e,t){this.line=e,this.column=t}function U(e,t,r,n){this.start=new P(e,t),this.end=new P(r,n)}function D(){var e,t,r,n;return e=ct,t=lt,r=ft,m(),n=lt!==t,ct=e,lt=t,ft=r,n}function V(e,r){var n,a=Array.prototype.slice.call(arguments,2),o=r.replace(/%(\d)/g,function(e,r){return t(r<a.length,"Message reference must be in range"),a[r]});throw"number"==typeof e.lineNumber?(n=new Error("Line "+e.lineNumber+": "+o),
n.index=e.start,n.lineNumber=e.lineNumber,n.column=e.start-ft+1):(n=new Error("Line "+lt+": "+o),n.index=ct,n.lineNumber=lt,n.column=ct-ft+1),n.description=o,n}function q(){try{V.apply(null,arguments)}catch(e){if(!mt.errors)throw e;mt.errors.push(e)}}function z(e){if(e.type===Je.EOF&&V(e,at.UnexpectedEOS),e.type===Je.NumericLiteral&&V(e,at.UnexpectedNumber),e.type===Je.StringLiteral&&V(e,at.UnexpectedString),e.type===Je.Identifier&&V(e,at.UnexpectedIdentifier),e.type===Je.Keyword){if(c(e.value))V(e,at.UnexpectedReserved);else if(ut&&l(e.value))return void q(e,at.StrictReservedWord);V(e,at.UnexpectedToken,e.value)}V(e,at.UnexpectedToken,e.value)}function G(e){var t=F();(t.type!==Je.Punctuator||t.value!==e)&&z(t)}function H(e){var t=F();(t.type!==Je.Keyword||t.value!==e)&&z(t)}function W(e){return dt.type===Je.Punctuator&&dt.value===e}function K(e){return dt.type===Je.Keyword&&dt.value===e}function $(){var e;return dt.type!==Je.Punctuator?!1:(e=dt.value,"="===e||"*="===e||"/="===e||"%="===e||"+="===e||"-="===e||"<<="===e||">>="===e||">>>="===e||"&="===e||"^="===e||"|="===e)}function Y(){var e,t=ct,r=lt,n=ft,a=dt;return 59===st.charCodeAt(ct)||W(";")?void F():(e=lt,m(),lt!==e?(ct=t,lt=r,ft=n,void(dt=a)):void(dt.type===Je.EOF||W("}")||z(dt)))}function X(e){return e.type===rt.Identifier||e.type===rt.MemberExpression}function Q(){var e,t=[];for(e=dt,G("[");!W("]");)W(",")?(F(),t.push(null)):(t.push(me()),W("]")||G(","));return F(),pt.markEnd(pt.createArrayExpression(t),e)}function Z(e,t){var r,n,a;return r=ut,a=dt,n=ze(),t&&ut&&f(e[0].name)&&q(t,at.StrictParamName),ut=r,pt.markEnd(pt.createFunctionExpression(null,e,[],n),a)}function J(){var e,t;return t=dt,e=F(),e.type===Je.StringLiteral||e.type===Je.NumericLiteral?(ut&&e.octal&&q(e,at.StrictOctalLiteral),pt.markEnd(pt.createLiteral(e),t)):pt.markEnd(pt.createIdentifier(e.value),t)}function ee(){var e,t,r,n,a,o;return e=dt,o=dt,e.type===Je.Identifier?(r=J(),"get"!==e.value||W(":")?"set"!==e.value||W(":")?(G(":"),n=me(),pt.markEnd(pt.createProperty("init",r,n),o)):(t=J(),G("("),e=dt,e.type!==Je.Identifier?(G(")"),q(e,at.UnexpectedToken,e.value),n=Z([])):(a=[we()],G(")"),n=Z(a,e)),pt.markEnd(pt.createProperty("set",t,n),o)):(t=J(),G("("),G(")"),n=Z([]),pt.markEnd(pt.createProperty("get",t,n),o))):e.type!==Je.EOF&&e.type!==Je.Punctuator?(t=J(),G(":"),n=me(),pt.markEnd(pt.createProperty("init",t,n),o)):void z(e)}function te(){var e,t,r,n,a,o=[],i={},s=String;for(a=dt,G("{");!W("}");)e=ee(),t=e.key.type===rt.Identifier?e.key.name:s(e.key.value),n="init"===e.kind?nt.Data:"get"===e.kind?nt.Get:nt.Set,r="$"+t,Object.prototype.hasOwnProperty.call(i,r)?(i[r]===nt.Data?ut&&n===nt.Data?q({},at.StrictDuplicateProperty):n!==nt.Data&&q({},at.AccessorDataProperty):n===nt.Data?q({},at.AccessorDataProperty):i[r]&n&&q({},at.AccessorGetSet),i[r]|=n):i[r]=n,o.push(e),W("}")||G(",");return G("}"),pt.markEnd(pt.createObjectExpression(o),a)}function re(){var e;return G("("),e=ye(),G(")"),e}function ne(){var e,t,r,n;if(W("("))return re();if(W("["))return Q();if(W("{"))return te();if(e=dt.type,n=dt,e===Je.Identifier)r=pt.createIdentifier(F().value);else if(e===Je.StringLiteral||e===Je.NumericLiteral)ut&&dt.octal&&q(dt,at.StrictOctalLiteral),r=pt.createLiteral(F());else if(e===Je.Keyword){if(K("function"))return We();K("this")?(F(),r=pt.createThisExpression()):z(F())}else e===Je.BooleanLiteral?(t=F(),t.value="true"===t.value,r=pt.createLiteral(t)):e===Je.NullLiteral?(t=F(),t.value=null,r=pt.createLiteral(t)):W("/")||W("/=")?(r="undefined"!=typeof mt.tokens?pt.createLiteral(M()):pt.createLiteral(C()),R()):z(F());return pt.markEnd(r,n)}function ae(){var e=[];if(G("("),!W(")"))for(;ht>ct&&(e.push(me()),!W(")"));)G(",");return G(")"),e}function oe(){var e,t;return t=dt,e=F(),L(e)||z(e),pt.markEnd(pt.createIdentifier(e.value),t)}function ie(){return G("."),oe()}function se(){var e;return G("["),e=ye(),G("]"),e}function ue(){var e,t,r;return r=dt,H("new"),e=le(),t=W("(")?ae():[],pt.markEnd(pt.createNewExpression(e,t),r)}function ce(){var e,t,r,n,a=gt.allowIn;for(n=dt,gt.allowIn=!0,e=K("new")?ue():ne();;){if(W("."))r=ie(),e=pt.createMemberExpression(".",e,r);else if(W("("))t=ae(),e=pt.createCallExpression(e,t);else{if(!W("["))break;r=se(),e=pt.createMemberExpression("[",e,r)}pt.markEnd(e,n)}return gt.allowIn=a,e}function le(){var e,r,n;for(t(gt.allowIn,"callee of new expression always allow in keyword."),n=dt,e=K("new")?ue():ne();W(".")||W("[");)W("[")?(r=se(),e=pt.createMemberExpression("[",e,r)):(r=ie(),e=pt.createMemberExpression(".",e,r)),pt.markEnd(e,n);return e}function fe(){var e,t,r=dt;return e=ce(),dt.type===Je.Punctuator&&(!W("++")&&!W("--")||D()||(ut&&e.type===rt.Identifier&&f(e.name)&&q({},at.StrictLHSPostfix),X(e)||q({},at.InvalidLHSInAssignment),t=F(),e=pt.markEnd(pt.createPostfixExpression(t.value,e),r))),e}function he(){var e,t,r;return dt.type!==Je.Punctuator&&dt.type!==Je.Keyword?t=fe():W("++")||W("--")?(r=dt,e=F(),t=he(),ut&&t.type===rt.Identifier&&f(t.name)&&q({},at.StrictLHSPrefix),X(t)||q({},at.InvalidLHSInAssignment),t=pt.createUnaryExpression(e.value,t),t=pt.markEnd(t,r)):W("+")||W("-")||W("~")||W("!")?(r=dt,e=F(),t=he(),t=pt.createUnaryExpression(e.value,t),t=pt.markEnd(t,r)):K("delete")||K("void")||K("typeof")?(r=dt,e=F(),t=he(),t=pt.createUnaryExpression(e.value,t),t=pt.markEnd(t,r),ut&&"delete"===t.operator&&t.argument.type===rt.Identifier&&q({},at.StrictDelete)):t=fe(),t}function pe(e,t){var r=0;if(e.type!==Je.Punctuator&&e.type!==Je.Keyword)return 0;switch(e.value){case"||":r=1;break;case"&&":r=2;break;case"|":r=3;break;case"^":r=4;break;case"&":r=5;break;case"==":case"!=":case"===":case"!==":r=6;break;case"<":case">":case"<=":case">=":case"instanceof":r=7;break;case"in":r=t?7:0;break;case"<<":case">>":case">>>":r=8;break;case"+":case"-":r=9;break;case"*":case"/":case"%":r=11}return r}function de(){var e,t,r,n,a,o,i,s,u,c;if(e=dt,u=he(),n=dt,a=pe(n,gt.allowIn),0===a)return u;for(n.prec=a,F(),t=[e,dt],i=he(),o=[u,n,i];(a=pe(dt,gt.allowIn))>0;){for(;o.length>2&&a<=o[o.length-2].prec;)i=o.pop(),s=o.pop().value,u=o.pop(),r=pt.createBinaryExpression(s,u,i),t.pop(),e=t[t.length-1],pt.markEnd(r,e),o.push(r);n=F(),n.prec=a,o.push(n),t.push(dt),r=he(),o.push(r)}for(c=o.length-1,r=o[c],t.pop();c>1;)r=pt.createBinaryExpression(o[c-1].value,o[c-2],r),c-=2,e=t.pop(),pt.markEnd(r,e);return r}function ge(){var e,t,r,n,a;return a=dt,e=de(),W("?")&&(F(),t=gt.allowIn,gt.allowIn=!0,r=me(),gt.allowIn=t,G(":"),n=me(),e=pt.createConditionalExpression(e,r,n),pt.markEnd(e,a)),e}function me(){var e,t,r,n,a;return e=dt,a=dt,n=t=ge(),$()&&(X(t)||q({},at.InvalidLHSInAssignment),ut&&t.type===rt.Identifier&&f(t.name)&&q(e,at.StrictLHSAssignment),e=F(),r=me(),n=pt.markEnd(pt.createAssignmentExpression(e.value,t,r),a)),n}function ye(){var e,t=dt;if(e=me(),W(",")){for(e=pt.createSequenceExpression([e]);ht>ct&&W(",");)F(),e.expressions.push(me());pt.markEnd(e,t)}return e}function ve(){for(var e,t=[];ht>ct&&!W("}")&&(e=Ke(),"undefined"!=typeof e);)t.push(e);return t}function be(){var e,t;return t=dt,G("{"),e=ve(),G("}"),pt.markEnd(pt.createBlockStatement(e),t)}function we(){var e,t;return t=dt,e=F(),e.type!==Je.Identifier&&z(e),pt.markEnd(pt.createIdentifier(e.value),t)}function ke(e){var t,r,n=null;return r=dt,t=we(),ut&&f(t.name)&&q({},at.StrictVarName),"const"===e?(G("="),n=me()):W("=")&&(F(),n=me()),pt.markEnd(pt.createVariableDeclarator(t,n),r)}function xe(e){var t=[];do{if(t.push(ke(e)),!W(","))break;F()}while(ht>ct);return t}function Se(){var e;return H("var"),e=xe(),Y(),pt.createVariableDeclaration(e,"var")}function je(e){var t,r;return r=dt,H(e),t=xe(e),Y(),pt.markEnd(pt.createVariableDeclaration(t,e),r)}function Ae(){return G(";"),pt.createEmptyStatement()}function Ee(){var e=ye();return Y(),pt.createExpressionStatement(e)}function _e(){var e,t,r;return H("if"),G("("),e=ye(),G(")"),t=qe(),K("else")?(F(),r=qe()):r=null,pt.createIfStatement(e,t,r)}function Ie(){var e,t,r;return H("do"),r=gt.inIteration,gt.inIteration=!0,e=qe(),gt.inIteration=r,H("while"),G("("),t=ye(),G(")"),W(";")&&F(),pt.createDoWhileStatement(e,t)}function Ne(){var e,t,r;return H("while"),G("("),e=ye(),G(")"),r=gt.inIteration,gt.inIteration=!0,t=qe(),gt.inIteration=r,pt.createWhileStatement(e,t)}function Ce(){var e,t,r;return r=dt,e=F(),t=xe(),pt.markEnd(pt.createVariableDeclaration(t,e.value),r)}function Me(){var e,t,r,n,a,o,i,s=gt.allowIn;return e=t=r=null,H("for"),G("("),W(";")?F():(K("var")||K("let")?(gt.allowIn=!1,e=Ce(),gt.allowIn=s,1===e.declarations.length&&K("in")&&(F(),n=e,a=ye(),e=null)):(gt.allowIn=!1,e=ye(),gt.allowIn=s,K("in")&&(X(e)||q({},at.InvalidLHSInForIn),F(),n=e,a=ye(),e=null)),"undefined"==typeof n&&G(";")),"undefined"==typeof n&&(W(";")||(t=ye()),G(";"),W(")")||(r=ye())),G(")"),i=gt.inIteration,gt.inIteration=!0,o=qe(),gt.inIteration=i,"undefined"==typeof n?pt.createForStatement(e,t,r,o):pt.createForInStatement(n,a,o)}function Le(){var e,t=null;return H("continue"),59===st.charCodeAt(ct)?(F(),gt.inIteration||V({},at.IllegalContinue),pt.createContinueStatement(null)):D()?(gt.inIteration||V({},at.IllegalContinue),pt.createContinueStatement(null)):(dt.type===Je.Identifier&&(t=we(),e="$"+t.name,Object.prototype.hasOwnProperty.call(gt.labelSet,e)||V({},at.UnknownLabel,t.name)),Y(),null!==t||gt.inIteration||V({},at.IllegalContinue),pt.createContinueStatement(t))}function Oe(){var e,t=null;return H("break"),59===st.charCodeAt(ct)?(F(),gt.inIteration||gt.inSwitch||V({},at.IllegalBreak),pt.createBreakStatement(null)):D()?(gt.inIteration||gt.inSwitch||V({},at.IllegalBreak),pt.createBreakStatement(null)):(dt.type===Je.Identifier&&(t=we(),e="$"+t.name,Object.prototype.hasOwnProperty.call(gt.labelSet,e)||V({},at.UnknownLabel,t.name)),Y(),null!==t||gt.inIteration||gt.inSwitch||V({},at.IllegalBreak),pt.createBreakStatement(t))}function Be(){var e=null;return H("return"),gt.inFunctionBody||q({},at.IllegalReturn),32===st.charCodeAt(ct)&&s(st.charCodeAt(ct+1))?(e=ye(),Y(),pt.createReturnStatement(e)):D()?pt.createReturnStatement(null):(W(";")||W("}")||dt.type===Je.EOF||(e=ye()),Y(),pt.createReturnStatement(e))}function Te(){var e,t;return ut&&(m(),q({},at.StrictModeWith)),H("with"),G("("),e=ye(),G(")"),t=qe(),pt.createWithStatement(e,t)}function Fe(){var e,t,r,n=[];for(r=dt,K("default")?(F(),e=null):(H("case"),e=ye()),G(":");ht>ct&&!(W("}")||K("default")||K("case"));)t=qe(),n.push(t);return pt.markEnd(pt.createSwitchCase(e,n),r)}function Re(){var e,t,r,n,a;if(H("switch"),G("("),e=ye(),G(")"),G("{"),t=[],W("}"))return F(),pt.createSwitchStatement(e,t);for(n=gt.inSwitch,gt.inSwitch=!0,a=!1;ht>ct&&!W("}");)r=Fe(),null===r.test&&(a&&V({},at.MultipleDefaultsInSwitch),a=!0),t.push(r);return gt.inSwitch=n,G("}"),pt.createSwitchStatement(e,t)}function Pe(){var e;return H("throw"),D()&&V({},at.NewlineAfterThrow),e=ye(),Y(),pt.createThrowStatement(e)}function Ue(){var e,t,r;return r=dt,H("catch"),G("("),W(")")&&z(dt),e=we(),ut&&f(e.name)&&q({},at.StrictCatchVariable),G(")"),t=be(),pt.markEnd(pt.createCatchClause(e,t),r)}function De(){var e,t=[],r=null;return H("try"),e=be(),K("catch")&&t.push(Ue()),K("finally")&&(F(),r=be()),0!==t.length||r||V({},at.NoCatchOrFinally),pt.createTryStatement(e,[],t,r)}function Ve(){return H("debugger"),Y(),pt.createDebuggerStatement()}function qe(){var e,t,r,n,a=dt.type;if(a===Je.EOF&&z(dt),a===Je.Punctuator&&"{"===dt.value)return be();if(n=dt,a===Je.Punctuator)switch(dt.value){case";":return pt.markEnd(Ae(),n);case"(":return pt.markEnd(Ee(),n)}if(a===Je.Keyword)switch(dt.value){case"break":return pt.markEnd(Oe(),n);case"continue":return pt.markEnd(Le(),n);case"debugger":return pt.markEnd(Ve(),n);case"do":return pt.markEnd(Ie(),n);case"for":return pt.markEnd(Me(),n);case"function":return pt.markEnd(He(),n);case"if":return pt.markEnd(_e(),n);case"return":return pt.markEnd(Be(),n);case"switch":return pt.markEnd(Re(),n);case"throw":return pt.markEnd(Pe(),n);case"try":return pt.markEnd(De(),n);case"var":return pt.markEnd(Se(),n);case"while":return pt.markEnd(Ne(),n);case"with":return pt.markEnd(Te(),n)}return e=ye(),e.type===rt.Identifier&&W(":")?(F(),r="$"+e.name,Object.prototype.hasOwnProperty.call(gt.labelSet,r)&&V({},at.Redeclaration,"Label",e.name),gt.labelSet[r]=!0,t=qe(),delete gt.labelSet[r],pt.markEnd(pt.createLabeledStatement(e,t),n)):(Y(),pt.markEnd(pt.createExpressionStatement(e),n))}function ze(){var e,t,r,n,a,o,i,s,u,c=[];for(u=dt,G("{");ht>ct&&dt.type===Je.StringLiteral&&(t=dt,e=Ke(),c.push(e),e.expression.type===rt.Literal);)r=st.slice(t.start+1,t.end-1),"use strict"===r?(ut=!0,n&&q(n,at.StrictOctalLiteral)):!n&&t.octal&&(n=t);for(a=gt.labelSet,o=gt.inIteration,i=gt.inSwitch,s=gt.inFunctionBody,gt.labelSet={},gt.inIteration=!1,gt.inSwitch=!1,gt.inFunctionBody=!0;ht>ct&&!W("}")&&(e=Ke(),"undefined"!=typeof e);)c.push(e);return G("}"),gt.labelSet=a,gt.inIteration=o,gt.inSwitch=i,gt.inFunctionBody=s,pt.markEnd(pt.createBlockStatement(c),u)}function Ge(e){var t,r,n,a,o,i,s=[];if(G("("),!W(")"))for(a={};ht>ct&&(r=dt,t=we(),o="$"+r.value,ut?(f(r.value)&&(n=r,i=at.StrictParamName),Object.prototype.hasOwnProperty.call(a,o)&&(n=r,i=at.StrictParamDupe)):e||(f(r.value)?(e=r,i=at.StrictParamName):l(r.value)?(e=r,i=at.StrictReservedWord):Object.prototype.hasOwnProperty.call(a,o)&&(e=r,i=at.StrictParamDupe)),s.push(t),a[o]=!0,!W(")"));)G(",");return G(")"),{params:s,stricted:n,firstRestricted:e,message:i}}function He(){var e,t,r,n,a,o,i,s,u,c=[];return u=dt,H("function"),r=dt,e=we(),ut?f(r.value)&&q(r,at.StrictFunctionName):f(r.value)?(o=r,i=at.StrictFunctionName):l(r.value)&&(o=r,i=at.StrictReservedWord),a=Ge(o),c=a.params,n=a.stricted,o=a.firstRestricted,a.message&&(i=a.message),s=ut,t=ze(),ut&&o&&V(o,i),ut&&n&&q(n,i),ut=s,pt.markEnd(pt.createFunctionDeclaration(e,c,[],t),u)}function We(){var e,t,r,n,a,o,i,s,u=null,c=[];return s=dt,H("function"),W("(")||(e=dt,u=we(),ut?f(e.value)&&q(e,at.StrictFunctionName):f(e.value)?(r=e,n=at.StrictFunctionName):l(e.value)&&(r=e,n=at.StrictReservedWord)),a=Ge(r),c=a.params,t=a.stricted,r=a.firstRestricted,a.message&&(n=a.message),i=ut,o=ze(),ut&&r&&V(r,n),ut&&t&&q(t,n),ut=i,pt.markEnd(pt.createFunctionExpression(u,c,[],o),s)}function Ke(){if(dt.type===Je.Keyword)switch(dt.value){case"const":case"let":return je(dt.value);case"function":return He();default:return qe()}return dt.type!==Je.EOF?qe():void 0}function $e(){for(var e,t,r,n,a=[];ht>ct&&(t=dt,t.type===Je.StringLiteral)&&(e=Ke(),a.push(e),e.expression.type===rt.Literal);)r=st.slice(t.start+1,t.end-1),"use strict"===r?(ut=!0,n&&q(n,at.StrictOctalLiteral)):!n&&t.octal&&(n=t);for(;ht>ct&&(e=Ke(),"undefined"!=typeof e);)a.push(e);return a}function Ye(){var e,t;return m(),R(),t=dt,ut=!1,e=$e(),pt.markEnd(pt.createProgram(e),t)}function Xe(){var e,t,r,n=[];for(e=0;e<mt.tokens.length;++e)t=mt.tokens[e],r={type:t.type,value:t.value},mt.range&&(r.range=t.range),mt.loc&&(r.loc=t.loc),n.push(r);mt.tokens=n}function Qe(e,t){var r,n,a;r=String,"string"==typeof e||e instanceof String||(e=r(e)),pt=it,st=e,ct=0,lt=st.length>0?1:0,ft=0,ht=st.length,dt=null,gt={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},mt={},t=t||{},t.tokens=!0,mt.tokens=[],mt.tokenize=!0,mt.openParenToken=-1,mt.openCurlyToken=-1,mt.range="boolean"==typeof t.range&&t.range,mt.loc="boolean"==typeof t.loc&&t.loc,"boolean"==typeof t.comment&&t.comment&&(mt.comments=[]),"boolean"==typeof t.tolerant&&t.tolerant&&(mt.errors=[]);try{if(R(),dt.type===Je.EOF)return mt.tokens;for(n=F();dt.type!==Je.EOF;)try{n=F()}catch(o){if(n=dt,mt.errors){mt.errors.push(o);break}throw o}Xe(),a=mt.tokens,"undefined"!=typeof mt.comments&&(a.comments=mt.comments),"undefined"!=typeof mt.errors&&(a.errors=mt.errors)}catch(i){throw i}finally{mt={}}return a}function Ze(e,t){var r,n;n=String,"string"==typeof e||e instanceof String||(e=n(e)),pt=it,st=e,ct=0,lt=st.length>0?1:0,ft=0,ht=st.length,dt=null,gt={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},mt={},"undefined"!=typeof t&&(mt.range="boolean"==typeof t.range&&t.range,mt.loc="boolean"==typeof t.loc&&t.loc,mt.attachComment="boolean"==typeof t.attachComment&&t.attachComment,mt.loc&&null!==t.source&&void 0!==t.source&&(mt.source=n(t.source)),"boolean"==typeof t.tokens&&t.tokens&&(mt.tokens=[]),"boolean"==typeof t.comment&&t.comment&&(mt.comments=[]),"boolean"==typeof t.tolerant&&t.tolerant&&(mt.errors=[]),mt.attachComment&&(mt.range=!0,mt.comments=[],mt.bottomRightStack=[],mt.trailingComments=[],mt.leadingComments=[]));try{r=Ye(),"undefined"!=typeof mt.comments&&(r.comments=mt.comments),"undefined"!=typeof mt.tokens&&(Xe(),r.tokens=mt.tokens),"undefined"!=typeof mt.errors&&(r.errors=mt.errors)}catch(a){throw a}finally{mt={}}return r}var Je,et,tt,rt,nt,at,ot,it,st,ut,ct,lt,ft,ht,pt,dt,gt,mt;Je={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9},et={},et[Je.BooleanLiteral]="Boolean",et[Je.EOF]="<end>",et[Je.Identifier]="Identifier",et[Je.Keyword]="Keyword",et[Je.NullLiteral]="Null",et[Je.NumericLiteral]="Numeric",et[Je.Punctuator]="Punctuator",et[Je.StringLiteral]="String",et[Je.RegularExpression]="RegularExpression",tt=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="],rt={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"},nt={Data:1,Get:2,Set:4},at={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},ot={NonAsciiIdentifierStart:new RegExp("[------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]"),NonAsciiIdentifierPart:new RegExp("[------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]")},it={name:"SyntaxTree",processComment:function(e){var t,r;if(!(e.type===rt.Program&&e.body.length>0)){for(mt.trailingComments.length>0?mt.trailingComments[0].range[0]>=e.range[1]?(r=mt.trailingComments,mt.trailingComments=[]):mt.trailingComments.length=0:mt.bottomRightStack.length>0&&mt.bottomRightStack[mt.bottomRightStack.length-1].trailingComments&&mt.bottomRightStack[mt.bottomRightStack.length-1].trailingComments[0].range[0]>=e.range[1]&&(r=mt.bottomRightStack[mt.bottomRightStack.length-1].trailingComments,delete mt.bottomRightStack[mt.bottomRightStack.length-1].trailingComments);mt.bottomRightStack.length>0&&mt.bottomRightStack[mt.bottomRightStack.length-1].range[0]>=e.range[0];)t=mt.bottomRightStack.pop();t?t.leadingComments&&t.leadingComments[t.leadingComments.length-1].range[1]<=e.range[0]&&(e.leadingComments=t.leadingComments,delete t.leadingComments):mt.leadingComments.length>0&&mt.leadingComments[mt.leadingComments.length-1].range[1]<=e.range[0]&&(e.leadingComments=mt.leadingComments,mt.leadingComments=[]),r&&(e.trailingComments=r),mt.bottomRightStack.push(e)}},markEnd:function(e,t){return mt.range&&(e.range=[t.start,ct]),mt.loc&&(e.loc=new U(void 0===t.startLineNumber?t.lineNumber:t.startLineNumber,t.start-(void 0===t.startLineStart?t.lineStart:t.startLineStart),lt,ct-ft),this.postProcess(e)),mt.attachComment&&this.processComment(e),e},postProcess:function(e){return mt.source&&(e.loc.source=mt.source),e},createArrayExpression:function(e){return{type:rt.ArrayExpression,elements:e}},createAssignmentExpression:function(e,t,r){return{type:rt.AssignmentExpression,operator:e,left:t,right:r}},createBinaryExpression:function(e,t,r){var n="||"===e||"&&"===e?rt.LogicalExpression:rt.BinaryExpression;return{type:n,operator:e,left:t,right:r}},createBlockStatement:function(e){return{type:rt.BlockStatement,body:e}},createBreakStatement:function(e){return{type:rt.BreakStatement,label:e}},createCallExpression:function(e,t){return{type:rt.CallExpression,callee:e,arguments:t}},createCatchClause:function(e,t){return{type:rt.CatchClause,param:e,body:t}},createConditionalExpression:function(e,t,r){return{type:rt.ConditionalExpression,test:e,consequent:t,alternate:r}},createContinueStatement:function(e){return{type:rt.ContinueStatement,label:e}},createDebuggerStatement:function(){return{type:rt.DebuggerStatement}},createDoWhileStatement:function(e,t){return{type:rt.DoWhileStatement,body:e,test:t}},createEmptyStatement:function(){return{type:rt.EmptyStatement}},createExpressionStatement:function(e){return{type:rt.ExpressionStatement,expression:e}},createForStatement:function(e,t,r,n){return{type:rt.ForStatement,init:e,test:t,update:r,body:n}},createForInStatement:function(e,t,r){return{type:rt.ForInStatement,left:e,right:t,body:r,each:!1}},createFunctionDeclaration:function(e,t,r,n){return{type:rt.FunctionDeclaration,id:e,params:t,defaults:r,body:n,rest:null,generator:!1,expression:!1}},createFunctionExpression:function(e,t,r,n){return{type:rt.FunctionExpression,id:e,params:t,defaults:r,body:n,rest:null,generator:!1,expression:!1}},createIdentifier:function(e){return{type:rt.Identifier,name:e}},createIfStatement:function(e,t,r){return{type:rt.IfStatement,test:e,consequent:t,alternate:r}},createLabeledStatement:function(e,t){return{type:rt.LabeledStatement,label:e,body:t}},createLiteral:function(e){return{type:rt.Literal,value:e.value,raw:st.slice(e.start,e.end)}},createMemberExpression:function(e,t,r){return{type:rt.MemberExpression,computed:"["===e,object:t,property:r}},createNewExpression:function(e,t){return{type:rt.NewExpression,callee:e,arguments:t}},createObjectExpression:function(e){return{type:rt.ObjectExpression,properties:e}},createPostfixExpression:function(e,t){return{type:rt.UpdateExpression,operator:e,argument:t,prefix:!1}},createProgram:function(e){return{type:rt.Program,body:e}},createProperty:function(e,t,r){return{type:rt.Property,key:t,value:r,kind:e}},createReturnStatement:function(e){return{type:rt.ReturnStatement,argument:e}},createSequenceExpression:function(e){return{type:rt.SequenceExpression,expressions:e}},createSwitchCase:function(e,t){return{type:rt.SwitchCase,test:e,consequent:t}},createSwitchStatement:function(e,t){return{type:rt.SwitchStatement,discriminant:e,cases:t}},createThisExpression:function(){return{type:rt.ThisExpression}},createThrowStatement:function(e){return{type:rt.ThrowStatement,argument:e}},createTryStatement:function(e,t,r,n){return{type:rt.TryStatement,block:e,guardedHandlers:t,handlers:r,finalizer:n}},createUnaryExpression:function(e,t){return"++"===e||"--"===e?{type:rt.UpdateExpression,operator:e,argument:t,prefix:!0}:{type:rt.UnaryExpression,operator:e,argument:t,prefix:!0}},createVariableDeclaration:function(e,t){return{type:rt.VariableDeclaration,declarations:e,kind:t}},createVariableDeclarator:function(e,t){return{type:rt.VariableDeclarator,id:e,init:t}},createWhileStatement:function(e,t){return{type:rt.WhileStatement,test:e,body:t}},createWithStatement:function(e,t){return{type:rt.WithStatement,object:e,body:t}}},e.version="1.2.5",e.tokenize=Qe,e.parse=Ze,e.Syntax=function(){var e,t={};"function"==typeof Object.create&&(t=Object.create(null));for(e in rt)rt.hasOwnProperty(e)&&(t[e]=rt[e]);return"function"==typeof Object.freeze&&Object.freeze(t),t}()})},function(e,t,r){!function(e,r){r(t)}(this,function(e){"use strict";function t(e,t){return t>e?-1:e>t?1:e>=t?0:NaN}function r(e){return 1===e.length&&(e=n(e)),{left:function(t,r,n,a){for(arguments.length<3&&(n=0),arguments.length<4&&(a=t.length);a>n;){var o=n+a>>>1;e(t[o],r)<0?n=o+1:a=o}return n},right:function(t,r,n,a){for(arguments.length<3&&(n=0),arguments.length<4&&(a=t.length);a>n;){var o=n+a>>>1;e(t[o],r)>0?a=o:n=o+1}return n}}}function n(e){return function(r,n){return t(e(r),n)}}function a(e,t){return e>t?-1:t>e?1:t>=e?0:NaN}function o(e){return null===e?NaN:+e}function i(e,t){var r,n,a=e.length,i=0,s=0,u=-1,c=0;if(1===arguments.length)for(;++u<a;)isNaN(r=o(e[u]))||(n=r-i,i+=n/++c,s+=n*(r-i));else for(;++u<a;)isNaN(r=o(t(e[u],u,e)))||(n=r-i,i+=n/++c,s+=n*(r-i));return c>1?s/(c-1):void 0}function s(){var e=i.apply(this,arguments);return e?Math.sqrt(e):e}function u(e,t){var r,n,a,o=-1,i=e.length;if(1===arguments.length){for(;++o<i;)if(null!=(n=e[o])&&n>=n){r=a=n;break}for(;++o<i;)null!=(n=e[o])&&(r>n&&(r=n),n>a&&(a=n))}else{for(;++o<i;)if(null!=(n=t(e[o],o,e))&&n>=n){r=a=n;break}for(;++o<i;)null!=(n=t(e[o],o,e))&&(r>n&&(r=n),n>a&&(a=n))}return[r,a]}function c(e){return function(){return e}}function l(e){return e}function f(e,t,r){(a=arguments.length)<3&&(r=1,2>a&&(t=e,e=0));for(var n=-1,a=0|Math.max(0,Math.ceil((t-e)/r)),o=new Array(a);++n<a;)o[n]=e+n*r;return o}function h(e,t,r){var n=p(e,t,r);return f(Math.ceil(e/n)*n,Math.floor(t/n)*n+n/2,n)}function p(e,t,r){var n=Math.abs(t-e)/Math.max(0,r),a=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),o=n/a;return o>=F?a*=10:o>=R?a*=5:o>=P&&(a*=2),e>t?-a:a}function d(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1}function g(e){return+e}function m(){function e(e){var a,o,i=e.length,s=new Array(i);for(a=0;i>a;++a)s[a]=+t(e[a],a,e);var u=r(s),c=+u[0],l=+u[1],f=n(s,c,l);Array.isArray(f)||(f=h(c,l,+f));var p=f.length;for(a=0;p>a;++a)f[a]=+f[a];for(;f[0]<=c;)f.shift(),--p;for(;f[p-1]>=l;)f.pop(),--p;var d,g=new Array(p+1);for(a=0;p>=a;++a)d=g[a]=[],d.x0=a>0?f[a-1]:c,d.x1=p>a?f[a]:l;for(a=0;i>a;++a)o=s[a],o>=c&&l>=o&&g[B(f,o,0,p)].push(e[a]);return g}var t=l,r=u,n=d;return e.value=function(r){return arguments.length?(t="function"==typeof r?r:c(+r),e):t},e.domain=function(t){return arguments.length?(r="function"==typeof t?t:c([+t[0],+t[1]]),e):r},e.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:c(Array.isArray(t)?Array.prototype.map.call(t,g):+t),e):n},e}function y(e,t,r){if(arguments.length<3&&(r=o),n=e.length){if((t=+t)<=0||2>n)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),u=+r(e[i+1],i+1,e);return s+(u-s)*(a-i)}}function v(e,r,n){return e.sort(t),Math.ceil((n-r)/(2*(y(e,.75)-y(e,.25))*Math.pow(e.length,-1/3)))}function b(e,t,r){return Math.ceil((r-t)/(3.5*s(e)*Math.pow(e.length,-1/3)))}function w(e,t){var r,n,a=-1,o=e.length;if(1===arguments.length){for(;++a<o;)if(null!=(n=e[a])&&n>=n){r=n;break}for(;++a<o;)null!=(n=e[a])&&n>r&&(r=n)}else{for(;++a<o;)if(null!=(n=t(e[a],a,e))&&n>=n){r=n;break}for(;++a<o;)null!=(n=t(e[a],a,e))&&n>r&&(r=n)}return r}function k(e,t){var r,n=0,a=e.length,i=-1,s=a;if(1===arguments.length)for(;++i<a;)isNaN(r=o(e[i]))?--s:n+=r;else for(;++i<a;)isNaN(r=o(t(e[i],i,e)))?--s:n+=r;return s?n/s:void 0}function x(e,r){var n,a=[],i=e.length,s=-1;if(1===arguments.length)for(;++s<i;)isNaN(n=o(e[s]))||a.push(n);else for(;++s<i;)isNaN(n=o(r(e[s],s,e)))||a.push(n);return y(a.sort(t),.5)}function S(e){for(var t,r,n,a=e.length,o=-1,i=0;++o<a;)i+=e[o].length;for(r=new Array(i);--a>=0;)for(n=e[a],t=n.length;--t>=0;)r[--i]=n[t];return r}function j(e,t){var r,n,a=-1,o=e.length;if(1===arguments.length){for(;++a<o;)if(null!=(n=e[a])&&n>=n){
r=n;break}for(;++a<o;)null!=(n=e[a])&&r>n&&(r=n)}else{for(;++a<o;)if(null!=(n=t(e[a],a,e))&&n>=n){r=n;break}for(;++a<o;)null!=(n=t(e[a],a,e))&&r>n&&(r=n)}return r}function A(e){for(var t,r=0,n=e.length-1,a=e[0],o=new Array(0>n?0:n);n>r;)o[r]=[t=a,a=e[++r]];return o}function E(e,t){for(var r=t.length,n=new Array(r);r--;)n[r]=e[t[r]];return n}function _(e,r){if(n=e.length){var n,a,o=0,i=0,s=e[i];for(r||(r=t);++o<n;)(r(a=e[o],s)<0||0!==r(s,s))&&(s=a,i=o);return 0===r(s,s)?i:void 0}}function I(e,t,r){(o=arguments.length)<3&&(r=e.length,2>o&&(t=0));for(var n,a,o=r-t;o;)a=Math.random()*o--|0,n=e[o+t],e[o+t]=e[a+t],e[a+t]=n;return e}function N(e,t){var r,n=0,a=e.length,o=-1;if(1===arguments.length)for(;++o<a;)(r=+e[o])&&(n+=r);else for(;++o<a;)(r=+t(e[o],o,e))&&(n+=r);return n}function C(e){if(!(a=e.length))return[];for(var t=-1,r=j(e,M),n=new Array(r);++t<r;)for(var a,o=-1,i=n[t]=new Array(a);++o<a;)i[o]=e[o][t];return n}function M(e){return e.length}function L(){return C(arguments)}var O=r(t),B=O.right,T=O.left,F=Math.sqrt(50),R=Math.sqrt(10),P=Math.sqrt(2),U="0.7.0";e.version=U,e.bisect=B,e.bisectRight=B,e.bisectLeft=T,e.ascending=t,e.bisector=r,e.descending=a,e.deviation=s,e.extent=u,e.histogram=m,e.thresholdFreedmanDiaconis=v,e.thresholdScott=b,e.thresholdSturges=d,e.max=w,e.mean=k,e.median=x,e.merge=S,e.min=j,e.pairs=A,e.permute=E,e.quantile=y,e.range=f,e.scan=_,e.shuffle=I,e.sum=N,e.ticks=h,e.tickStep=p,e.transpose=C,e.variance=i,e.zip=L})},function(e,t,r){!function(e,n){n(t,r(15))}(this,function(e,t){"use strict";function r(e,r){e=t.rgb(e),r=t.rgb(r);var n=e.r,a=e.g,o=e.b,i=r.r-n,s=r.g-a,u=r.b-o;return function(t){return e.r=n+i*t,e.g=a+s*t,e.b=o+u*t,e+""}}function n(e,t){var r,n=[],a=[],o=e?e.length:0,i=t?t.length:0,s=Math.min(o,i);for(r=0;s>r;++r)n.push(c(e[r],t[r]));for(;o>r;++r)a[r]=e[r];for(;i>r;++r)a[r]=t[r];return function(e){for(r=0;s>r;++r)a[r]=n[r](e);return a}}function a(e,t){return e=+e,t-=e,function(r){return e+t*r}}function o(e,t){var r,n={},a={};(null===e||"object"!=typeof e)&&(e={}),(null===t||"object"!=typeof t)&&(t={});for(r in e)r in t?n[r]=c(e[r],t[r]):a[r]=e[r];for(r in t)r in e||(a[r]=t[r]);return function(e){for(r in n)a[r]=n[r](e);return a}}function i(e){return function(){return e}}function s(e){return function(t){return e(t)+""}}function u(e,t){var r,n,o,u=F.lastIndex=R.lastIndex=0,c=-1,l=[],f=[];for(e+="",t+="";(r=F.exec(e))&&(n=R.exec(t));)(o=n.index)>u&&(o=t.slice(u,o),l[c]?l[c]+=o:l[++c]=o),(r=r[0])===(n=n[0])?l[c]?l[c]+=n:l[++c]=n:(l[++c]=null,f.push({i:c,x:a(r,n)})),u=R.lastIndex;return u<t.length&&(o=t.slice(u),l[c]?l[c]+=o:l[++c]=o),l.length<2?f[0]?s(f[0].x):i(t):(t=f.length,function(e){for(var r,n=0;t>n;++n)l[(r=f[n]).i]=r.x(e);return l.join("")})}function c(e,t){for(var r,n=P.length;--n>=0&&!(r=P[n](e,t)););return r}function l(e,t){return e=+e,t-=e,function(r){return Math.round(e+t*r)}}function f(e){T||(T=document.createElementNS("http://www.w3.org/2000/svg","g")),e&&(T.setAttribute("transform",e),t=T.transform.baseVal.consolidate());var t,r=t?t.matrix:D,n=[r.a,r.b],a=[r.c,r.d],o=p(n),i=h(n,a),s=p(d(a,n,-i))||0;n[0]*a[1]<a[0]*n[1]&&(n[0]*=-1,n[1]*=-1,o*=-1,i*=-1),this.rotate=(o?Math.atan2(n[1],n[0]):Math.atan2(-a[0],a[1]))*U,this.translate=[r.e,r.f],this.scale=[o,s],this.skew=s?Math.atan2(i,s)*U:0}function h(e,t){return e[0]*t[0]+e[1]*t[1]}function p(e){var t=Math.sqrt(h(e,e));return t&&(e[0]/=t,e[1]/=t),t}function d(e,t,r){return e[0]+=r*t[0],e[1]+=r*t[1],e}function g(e){return e.length?e.pop()+",":""}function m(e,t,r,n){if(e[0]!==t[0]||e[1]!==t[1]){var o=r.push("translate(",null,",",null,")");n.push({i:o-4,x:a(e[0],t[0])},{i:o-2,x:a(e[1],t[1])})}else(t[0]||t[1])&&r.push("translate("+t+")")}function y(e,t,r,n){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),n.push({i:r.push(g(r)+"rotate(",null,")")-2,x:a(e,t)})):t&&r.push(g(r)+"rotate("+t+")")}function v(e,t,r,n){e!==t?n.push({i:r.push(g(r)+"skewX(",null,")")-2,x:a(e,t)}):t&&r.push(g(r)+"skewX("+t+")")}function b(e,t,r,n){if(e[0]!==t[0]||e[1]!==t[1]){var o=r.push(g(r)+"scale(",null,",",null,")");n.push({i:o-4,x:a(e[0],t[0])},{i:o-2,x:a(e[1],t[1])})}else(1!==t[0]||1!==t[1])&&r.push(g(r)+"scale("+t+")")}function w(e,t){var r=[],n=[];return e=new f(e),t=new f(t),m(e.translate,t.translate,r,n),y(e.rotate,t.rotate,r,n),v(e.skew,t.skew,r,n),b(e.scale,t.scale,r,n),e=t=null,function(e){for(var t,a=-1,o=n.length;++a<o;)r[(t=n[a]).i]=t.x(e);return r.join("")}}function k(e){return((e=Math.exp(e))+1/e)/2}function x(e){return((e=Math.exp(e))-1/e)/2}function S(e){return((e=Math.exp(2*e))-1)/(e+1)}function j(e,t){var r,n,a=e[0],o=e[1],i=e[2],s=t[0],u=t[1],c=t[2],l=s-a,f=u-o,h=l*l+f*f;if(G>h)n=Math.log(c/i)/V,r=function(e){return[a+e*l,o+e*f,i*Math.exp(V*e*n)]};else{var p=Math.sqrt(h),d=(c*c-i*i+z*h)/(2*i*q*p),g=(c*c-i*i-z*h)/(2*c*q*p),m=Math.log(Math.sqrt(d*d+1)-d),y=Math.log(Math.sqrt(g*g+1)-g);n=(y-m)/V,r=function(e){var t=e*n,r=k(m),s=i/(q*p)*(r*S(V*t+m)-x(m));return[a+s*l,o+s*f,i*r/k(V*t+m)]}}return r.duration=1e3*n,r}function A(e,t){var r=e-t;return r>180||-180>r?r-360*Math.round(r/360):r}function E(e,r){e=t.hsl(e),r=t.hsl(r);var n=isNaN(e.h)?r.h:e.h,a=isNaN(e.s)?r.s:e.s,o=e.l,i=isNaN(r.h)?0:A(r.h,n),s=isNaN(r.s)?0:r.s-a,u=r.l-o;return function(t){return e.h=n+i*t,e.s=a+s*t,e.l=o+u*t,e+""}}function _(e,r){e=t.hsl(e),r=t.hsl(r);var n=isNaN(e.h)?r.h:e.h,a=isNaN(e.s)?r.s:e.s,o=e.l,i=isNaN(r.h)?0:r.h-n,s=isNaN(r.s)?0:r.s-a,u=r.l-o;return function(t){return e.h=n+i*t,e.s=a+s*t,e.l=o+u*t,e+""}}function I(e,r){e=t.lab(e),r=t.lab(r);var n=e.l,a=e.a,o=e.b,i=r.l-n,s=r.a-a,u=r.b-o;return function(t){return e.l=n+i*t,e.a=a+s*t,e.b=o+u*t,e+""}}function N(e,r){e=t.hcl(e),r=t.hcl(r);var n=isNaN(e.h)?r.h:e.h,a=isNaN(e.c)?r.c:e.c,o=e.l,i=isNaN(r.h)?0:A(r.h,n),s=isNaN(r.c)?0:r.c-a,u=r.l-o;return function(t){return e.h=n+i*t,e.c=a+s*t,e.l=o+u*t,e+""}}function C(e,r){e=t.hcl(e),r=t.hcl(r);var n=isNaN(e.h)?r.h:e.h,a=isNaN(e.c)?r.c:e.c,o=e.l,i=isNaN(r.h)?0:r.h-n,s=isNaN(r.c)?0:r.c-a,u=r.l-o;return function(t){return e.h=n+i*t,e.c=a+s*t,e.l=o+u*t,e+""}}function M(e,r,n){arguments.length<3&&(n=1),e=t.cubehelix(e),r=t.cubehelix(r);var a=isNaN(e.h)?r.h:e.h,o=isNaN(e.s)?r.s:e.s,i=e.l,s=isNaN(r.h)?0:A(r.h,a),u=isNaN(r.s)?0:r.s-o,c=r.l-i;return function(t){return e.h=a+s*t,e.s=o+u*t,e.l=i+c*Math.pow(t,n),e+""}}function L(e,r,n){arguments.length<3&&(n=1),e=t.cubehelix(e),r=t.cubehelix(r);var a=isNaN(e.h)?r.h:e.h,o=isNaN(e.s)?r.s:e.s,i=e.l,s=isNaN(r.h)?0:r.h-a,u=isNaN(r.s)?0:r.s-o,c=r.l-i;return function(t){return e.h=a+s*t,e.s=o+u*t,e.l=i+c*Math.pow(t,n),e+""}}function O(e,t){return t=H.call(t),t[0]=null,t.unshift(null),function(r,n){return t[0]=r,t[1]=n,e.apply(null,t)}}function B(e){return 1===arguments.length?e:O(e,arguments)}var T,F=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,R=new RegExp(F.source,"g"),P=[function(e,i){var s,c=typeof i;return("string"===c?(s=t.color(i))?(i=s,r):u:i instanceof t.color?r:Array.isArray(i)?n:"object"===c&&isNaN(i)?o:a)(e,i)}],U=180/Math.PI,D={a:1,b:0,c:0,d:1,e:0,f:0},V=Math.SQRT2,q=2,z=4,G=1e-12,H=Array.prototype.slice,W="0.4.0";e.version=W,e.interpolate=c,e.interpolators=P,e.interpolateArray=n,e.interpolateNumber=a,e.interpolateObject=o,e.interpolateRound=l,e.interpolateString=u,e.interpolateTransform=w,e.interpolateZoom=j,e.interpolateRgb=r,e.interpolateHsl=E,e.interpolateHslLong=_,e.interpolateLab=I,e.interpolateHcl=N,e.interpolateHclLong=C,e.interpolateCubehelix=M,e.interpolateCubehelixLong=L,e.interpolateBind=B})},function(e,t,r){!function(e,r){r(t)}(this,function(e){"use strict";function t(){}function r(e){var t;return e=(e+"").trim().toLowerCase(),(t=k.exec(e))?(t=parseInt(t[1],16),new o(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t)):(t=x.exec(e))?n(parseInt(t[1],16)):(t=S.exec(e))?new o(t[1],t[2],t[3]):(t=j.exec(e))?new o(255*t[1]/100,255*t[2]/100,255*t[3]/100):(t=A.exec(e))?new s(t[1],t[2]/100,t[3]/100):E.hasOwnProperty(e)?n(E[e]):null}function n(e){return new o(e>>16&255,e>>8&255,255&e)}function a(e,n,a){return 1===arguments.length&&(e instanceof t||(e=r(e)),e?(e=e.rgb(),a=e.b,n=e.g,e=e.r):e=n=a=NaN),new o(e,n,a)}function o(e,t,r){this.r=+e,this.g=+t,this.b=+r}function i(e,n,a){if(1===arguments.length)if(e instanceof s)a=e.l,n=e.s,e=e.h;else if(e instanceof t||(e=r(e)),e){if(e instanceof s)return e;e=e.rgb();var o=e.r/255,i=e.g/255,u=e.b/255,c=Math.min(o,i,u),l=Math.max(o,i,u),f=l-c;a=(l+c)/2,f?(n=.5>a?f/(l+c):f/(2-l-c),e=o===l?(i-u)/f+6*(u>i):i===l?(u-o)/f+2:(o-i)/f+4,e*=60):(e=NaN,n=a>0&&1>a?0:e)}else e=n=a=NaN;return new s(e,n,a)}function s(e,t,r){this.h=+e,this.s=+t,this.l=+r}function u(e,t,r){return 255*(60>e?t+(r-t)*e/60:180>e?r:240>e?t+(r-t)*(240-e)/60:t)}function c(e,t,r){if(1===arguments.length)if(e instanceof l)r=e.b,t=e.a,e=e.l;else if(e instanceof m){var n=e.h*N;r=Math.sin(n)*e.c,t=Math.cos(n)*e.c,e=e.l}else{e instanceof o||(e=a(e));var i=d(e.r),s=d(e.g),r=d(e.b),u=f((.4124564*i+.3575761*s+.1804375*r)/L),c=f((.2126729*i+.7151522*s+.072175*r)/O),h=f((.0193339*i+.119192*s+.9503041*r)/B);r=200*(c-h),t=500*(u-c),e=116*c-16}return new l(e,t,r)}function l(e,t,r){this.l=+e,this.a=+t,this.b=+r}function f(e){return e>P?Math.pow(e,1/3):e/R+T}function h(e){return e>F?e*e*e:R*(e-T)}function p(e){return 255*(.0031308>=e?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function d(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function g(e,t,r){return 1===arguments.length&&(e instanceof m?(r=e.l,t=e.c,e=e.h):(e instanceof l||(e=c(e)),r=e.l,t=Math.sqrt(e.a*e.a+e.b*e.b),e=Math.atan2(e.b,e.a)*C,0>e&&(e+=360))),new m(e,t,r)}function m(e,t,r){this.h=+e,this.c=+t,this.l=+r}function y(e,t,r){if(1===arguments.length)if(e instanceof v)r=e.l,t=e.s,e=e.h;else{e instanceof o||(e=a(e));var n=e.r/255,i=e.g/255,s=e.b/255;r=($*s+W*n-K*i)/($+W-K);var u=s-r,c=(H*(i-r)-z*u)/G;t=Math.sqrt(c*c+u*u)/(H*r*(1-r)),e=t?Math.atan2(c,u)*C-120:NaN,0>e&&(e+=360)}return new v(e,t,r)}function v(e,t,r){this.h=+e,this.s=+t,this.l=+r}var b=.7,w=1/b,k=/^#([0-9a-f]{3})$/,x=/^#([0-9a-f]{6})$/,S=/^rgb\(\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*\)$/,j=/^rgb\(\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/,A=/^hsl\(\s*([-+]?\d+(?:\.\d+)?)\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/,E={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};r.prototype=t.prototype={displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}};var _=a.prototype=o.prototype=new t;_.brighter=function(e){return e=null==e?w:Math.pow(w,e),new o(this.r*e,this.g*e,this.b*e)},_.darker=function(e){return e=null==e?b:Math.pow(b,e),new o(this.r*e,this.g*e,this.b*e)},_.rgb=function(){return this},_.displayable=function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255},_.toString=function(){var e=Math.round(this.r),t=Math.round(this.g),r=Math.round(this.b);return"#"+(isNaN(e)||0>=e?"00":16>e?"0"+e.toString(16):e>=255?"ff":e.toString(16))+(isNaN(t)||0>=t?"00":16>t?"0"+t.toString(16):t>=255?"ff":t.toString(16))+(isNaN(r)||0>=r?"00":16>r?"0"+r.toString(16):r>=255?"ff":r.toString(16))};var I=i.prototype=s.prototype=new t;I.brighter=function(e){return e=null==e?w:Math.pow(w,e),new s(this.h,this.s,this.l*e)},I.darker=function(e){return e=null==e?b:Math.pow(b,e),new s(this.h,this.s,this.l*e)},I.rgb=function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(.5>r?r:1-r)*t,a=2*r-n;return new o(u(e>=240?e-240:e+120,a,n),u(e,a,n),u(120>e?e+240:e-120,a,n))},I.displayable=function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1};var N=Math.PI/180,C=180/Math.PI,M=18,L=.95047,O=1,B=1.08883,T=4/29,F=6/29,R=3*F*F,P=F*F*F,U=c.prototype=l.prototype=new t;U.brighter=function(e){return new l(this.l+M*(null==e?1:e),this.a,this.b)},U.darker=function(e){return new l(this.l-M*(null==e?1:e),this.a,this.b)},U.rgb=function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return e=O*h(e),t=L*h(t),r=B*h(r),new o(p(3.2404542*t-1.5371385*e-.4985314*r),p(-.969266*t+1.8760108*e+.041556*r),p(.0556434*t-.2040259*e+1.0572252*r))};var D=g.prototype=m.prototype=new t;D.brighter=function(e){return new m(this.h,this.c,this.l+M*(null==e?1:e))},D.darker=function(e){return new m(this.h,this.c,this.l-M*(null==e?1:e))},D.rgb=function(){return c(this).rgb()};var V=-.14861,q=1.78277,z=-.29227,G=-.90649,H=1.97294,W=H*G,K=H*q,$=q*z-G*V,Y=y.prototype=v.prototype=new t;Y.brighter=function(e){return e=null==e?w:Math.pow(w,e),new v(this.h,this.s,this.l*e)},Y.darker=function(e){return e=null==e?b:Math.pow(b,e),new v(this.h,this.s,this.l*e)},Y.rgb=function(){var e=isNaN(this.h)?0:(this.h+120)*N,t=+this.l,r=isNaN(this.s)?0:this.s*t*(1-t),n=Math.cos(e),a=Math.sin(e);return new o(255*(t+r*(V*n+q*a)),255*(t+r*(z*n+G*a)),255*(t+r*(H*n)))};var X="0.3.3";e.version=X,e.color=r,e.rgb=a,e.hsl=i,e.lab=c,e.hcl=g,e.cubehelix=y})}])})}])});
//# sourceMappingURL=ndarray-chunked-heatmap.min.js.map
